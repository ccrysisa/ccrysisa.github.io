[{"categories":["Rust"],"content":"æ•´ç†è‡ª John Gjengset çš„å½±ç‰‡ ","date":"2024-01-31","objectID":"/posts/declarative-macros/:0:0","tags":["Rust","Macro","Declarative Macros"],"title":"Crust of Rust: Declarative Macros","uri":"/posts/declarative-macros/"},{"categories":["Rust"],"content":"å½±ç‰‡æ³¨è§£ macro å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ 3 ç§åˆ†éš”ç¬¦æ¥ä¼ å…¥å‚æ•° (æ³¨æ„èŠ±æ‹¬å· {} çš„éœ€è¦ä¸ macro åä¹‹é—´è¿›è¡Œç©ºæ ¼ï¼Œæœ«å°¾ä¸éœ€è¦åˆ†å·ï¼Œè¿™æ˜¯å› ä¸º {} ä¼šè¢«ç¼–è¯‘å™¨è§†ä¸ºä¸€ä¸ª statementï¼Œæ— éœ€ä½¿ç”¨ ; æ¥è¿›è¡Œåˆ†éš”): macro_rules! avec { () =\u003e {}; ... } avec!(); avec![]; avec! {} macro å®šä¹‰å†…çš„ () å’Œ {} ä¹Ÿéƒ½å¯ä»¥ä½¿ç”¨ (), [], {} ä¹‹é—´çš„ä»»æ„ä¸€ç§ï¼Œå¹¶ä¸å½±å“è°ƒç ” macro çš„åˆ†éš”ç¬¦çš„ä½¿ç”¨ï¼ˆéƒ½æ˜¯ 3 ä»»é€‰ 1 å³å¯ï¼‰ï¼Œä¸è¿‡æ¨èåœ¨ macro å®šä¹‰å†…ä½¿ç”¨ () å’Œ {} æ­é…ã€‚ cargo-expand å¯ä»¥å°†å®å±•å¼€ï¼Œå¯¹äºå®çš„é™¤é”™éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…: $ cargo install cargo-expand ç„¶åå¯ä»¥æä¾›==é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯¹ macro è¿›è¡Œå±•å¼€: $ cargo expand ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥å°† unit tests ä¸ cargo expand ç»“åˆèµ·æ¥ï¼Œå³å±•å¼€çš„æ˜¯ unit tests ä¹‹åçš„å®Œæ•´ä»£ç : $ cargo expand --lib tests ç”±äº Rust ä¸­ macro å’Œ normal code çš„ä½œç”¨åŸŸä¸ä¸€è‡´ï¼Œæ‰€ä»¥åƒ C è¯­è¨€é‚£ç§åœ¨ macro ä¸­å®šä¹‰å˜é‡æˆ–åœ¨ macro ä¸­ç›´æ¥ä¿®æ”¹å·²æœ‰å˜é‡æ˜¯ä¸å¯è¡Œçš„ï¼Œæ“ä½œè¿™ç§ lvalue çš„æƒ…å†µéœ€è¦ä½¿ç”¨ macro å‚æ•°è¿›è¡Œä¼ å…¥ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚ // cannot compile macro_rules! avec { () =\u003e { let x = 1; } } // cannot compile macro_rules! avec { () =\u003e { x = 42; } } // can compile macro_rules! avec { ($x: ident) =\u003e { $x += 1; } } åœ¨ Rust macro ä¸­ï¼Œå¦‚æœéœ€è¦å°†ä¼ å…¥çš„ syntax è½¬æ¢æˆå¤šä¸ª statementsï¼Œéœ€è¦ä½¿ç”¨ {} è¿›è¡ŒåŒ…è£…: () =\u003e {{ ... }} å…¶ä¸­ç¬¬ä¸€å¯¹ {} æ˜¯ macro è¯­æ³•æ‰€è¦æ±‚çš„çš„ï¼Œç¬¬äºŒå¯¹ {} åˆ™æ˜¯ç”¨äºåŒ…è£… statements çš„ {}ï¼Œä½¿ç”¨ cargo expand è¿›è¡ŒæŸ¥çœ‹ä¼šæ›´ç›´è§‚ã€‚ æ³¨æ„ macro ä¸­ä¼ å…¥çš„ syntaxï¼Œå…¶ä½¿ç”¨çš„ç±»ä¼¼äº =\u003e çš„åˆ†éš”ç¬¦æ˜¯æœ‰é™çš„ï¼Œä¾‹å¦‚ä¸èƒ½ä½¿ç”¨ -\u003e ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå…·ä½“å¯ä»¥æŸ¥é˜…æ‰‹å†Œã€‚ ($arg1:ty =\u003e $arg2:ident) =\u003e { type $arg2 = $arg1; }; å¦‚æœéœ€è¦åœ¨ macro ä¼ å…¥çš„ synatx ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ (regex)ï¼Œåˆ™éœ€è¦åœ¨å¤–é¢ä½¿ç”¨ $() è¿›è¡ŒåŒ…è£…: ($($elem:expr),* $(,)?) =\u003e {{ let mut v = Vec::new(); $(v.push($elem);)* v }}; åŒæ ·çš„ï¼Œå¯ä»¥åœ¨ macro ä½“å†…ä½¿ç”¨ $()* è¿›è¡Œè§£åŒ…è£…ï¼Œå…¶ä¸­ * ä¹Ÿå¯ä»¥é€‰æ‹© + æ¥æ›¿ä»£ï¼Œå¹¶æ²¡æœ‰å·®å¼‚ã€‚$(...)* ä¼šæ ¹æ®å†…éƒ¨æ‰€åŒ…å«çš„å‚æ•° $(...) (æœ¬ä¾‹ä¸­æ˜¯ $(elem)) æ¥è¿›è¡Œè‡ªåŠ¨è§£åŒ…è£…ï¼Œç”Ÿæˆå¯¹åº”æ¬¡æ•°çš„ statementã€‚ å½“ declarative macros å˜å¾—å¤æ‚æ—¶ï¼Œå®ƒçš„å¯è¯»æ€§ä¼šå˜å¾—å¾ˆå·®ï¼Œè¿™æ—¶å€™éœ€è¦ä½¿ç”¨ procedural macrosã€‚ä½†æ˜¯ procedural macros éœ€è¦å¤šèŠ±è´¹ä¸€äº›ç¼–è¯‘å‘¨æœŸ (compilition cycle)ï¼Œå› ä¸ºéœ€è¦å…ˆå¯¹ procedural macros è¿›è¡Œç¼–è¯‘ï¼Œå†ç¼–è¯‘ lib/bin å¯¹åº”çš„æºæ–‡ä»¶ã€‚ ","date":"2024-01-31","objectID":"/posts/declarative-macros/:1:0","tags":["Rust","Macro","Declarative Macros"],"title":"Crust of Rust: Declarative Macros","uri":"/posts/declarative-macros/"},{"categories":["Rust"],"content":"Documentations è¿™é‡Œåˆ—ä¸¾è§†é¢‘ä¸­ä¸€äº›æ¦‚å¿µç›¸å…³çš„ documentation å­¦ä¹ çš„ä¸€æ‰‹èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ï¼Œè¯·åŠ¡å¿…è‡ªä¸»å­¦ä¼šé˜…è¯»è§„æ ¼ä¹¦ä¹‹ç±»çš„èµ„æ–™ ","date":"2024-01-31","objectID":"/posts/declarative-macros/:2:0","tags":["Rust","Macro","Declarative Macros"],"title":"Crust of Rust: Declarative Macros","uri":"/posts/declarative-macros/"},{"categories":["Rust"],"content":"Crate std å¯ä»¥ä½¿ç”¨è¿™é‡Œæä¾›çš„æœç´ æ è¿›è¡Œæœç´¢ (BTW ä¸è¦æµªè´¹æ—¶é—´åœ¨ Google æœå¯»ä¸Šï¼) Struct std::vec::Vec method std::option::Option::take ","date":"2024-01-31","objectID":"/posts/declarative-macros/:3:0","tags":["Rust","Macro","Declarative Macros"],"title":"Crust of Rust: Declarative Macros","uri":"/posts/declarative-macros/"},{"categories":["Rust"],"content":"References åŸç‰ˆçš„ The Little Book of Rust Macros åœ¨ Rust æ›´æ–°æ–°ç‰ˆæœ¬åæ²¡æœ‰æŒç»­æ›´æ–°ï¼Œå¦ä¸€ä½å¤§ç‰›å¯¹è¿™æœ¬å°å†Œå­è¿›è¡Œäº†ç›¸åº”çš„æ›´æ–°: The Little Book of Rust Macros Rustè¯­è¨€ä¸­æ–‡ç¤¾åŒºä¹Ÿç¿»è¯‘äº†è¯¥å°å†Œå­: Rust å®å°å†Œ ","date":"2024-01-31","objectID":"/posts/declarative-macros/:4:0","tags":["Rust","Macro","Declarative Macros"],"title":"Crust of Rust: Declarative Macros","uri":"/posts/declarative-macros/"},{"categories":["Rust"],"content":"æ•´ç†è‡ª John Gjengset çš„å½±ç‰‡ ","date":"2024-01-25","objectID":"/posts/lifetime-annotations/:0:0","tags":["Rust","Lifetime"],"title":"Crust of Rust: Lifetime Annotations","uri":"/posts/lifetime-annotations/"},{"categories":["Rust"],"content":"C è¯­è¨€ä¸­çš„ lifetime Rust ä¸­çš„ lifetime ä¸€å‘æ˜¯ä¸€ä¸ªéš¾ç‚¹ï¼Œä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™ä¸€éš¾ç‚¹çš„æœ¬è´¨ï¼Œå»ºè®®é˜…è¯» C è¯­è¨€è§„æ ¼ä¹¦å…³äº lifetime çš„éƒ¨åˆ†ï¼Œç›¸ä¿¡ä½ ä¼šå¯¹ Rust çš„ lifetime æœ‰ä¸åŒçš„çœ‹æ³•ã€‚ C11 [6.2.4] Storage durations of objects An object has a storage duration that determines its lifetime. There are four storage durations: static, thread, automatic, and allocated. ","date":"2024-01-25","objectID":"/posts/lifetime-annotations/:1:0","tags":["Rust","Lifetime"],"title":"Crust of Rust: Lifetime Annotations","uri":"/posts/lifetime-annotations/"},{"categories":["Rust"],"content":"å½±ç‰‡æ³¨è§£ cargo check å¯ä»¥ç»™å‡ºæ›´ç®€æ´çš„æç¤ºï¼Œä¾‹å¦‚ç›¸å¯¹äºç¼–è¯‘å™¨ç»™å‡ºçš„é”™è¯¯ä¿¡æ¯ï¼Œå®ƒä¼šæ•´åˆç›¸åŒçš„é”™è¯¯ä¿¡æ¯ï¼Œä»è€Œæä¾›ç®€æ´åˆ‡è¦çš„æç¤ºä¿¡æ¯ã€‚è€Œä¸”å®ƒæ˜¯ä¸€ä¸ªé™æ€åˆ†æå·¥å…·ï¼Œä¸éœ€è¦è¿›è¡Œç¼–è¯‘å³å¯ç»™å‡ºæç¤ºï¼Œæ‰€ä»¥é€Ÿåº¦ä¼šæ¯”ç¼–è¯‘å¿«å¾ˆå¤šï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸Šå°¤ä¸ºæ˜æ˜¾ã€‚ å½±ç‰‡å¤§æ¦‚ 49 åˆ†æ—¶æåˆ°äº† if let Some(ref mut remainder) = self.remainder {...} ref çš„ä½œç”¨é…åˆ if let è¯­å¥ä½“çš„é€»è¾‘å¯ä»¥ä½“ä¼šåˆ° pointer of pointer çš„ç¾å¦™ä¹‹å¤„ã€‚ å› ä¸ºåœ¨ pattern match ä¸­å½¢å¦‚ \u0026mut è¿™ç±»ä¹Ÿæ˜¯ç”¨äº pattern match çš„ï¼Œä¸èƒ½ç”¨äºè·å– referenceï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ ref mut è¿™ç±»è¯­æ³•æ¥è·å– reference çš„åŸå› ã€‚ å½±ç‰‡å¤§æ¦‚ 56 åˆ†æ—¶æåˆ°äº† let remainder = self.remainder.as_mut()?; ä¸ºä»€ä¹ˆä½¿ç”¨ä¹‹å‰æ‰€æçš„ let remainder = \u0026mut self.remainder?; è¿™æ˜¯å› ä¸ºä½¿ç”¨ ? è¿ç®—ç¬¦è¿”å›çš„æ˜¯å†…éƒ¨å€¼çš„ copyï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µ remainder é‡Œæ˜¯ self.remainder? è¿”å›çš„å€¼ (æ˜¯åŸæœ‰ self.remainder å†…éƒ¨å€¼çš„ copy) çš„ reference å½±ç‰‡å¤§æ¦‚ 1:03 æ—¶æåˆ°äº† str ä¸ String çš„åŒºåˆ«ï¼Œä¸ªäººè§‰å¾—è®²çš„å¾ˆå¥½ï¼š str -\u003e [char] \u0026str -\u003e \u0026[char] // fat pointer (address and size) String -\u003e Vec\u003cchar\u003e String -\u003e \u0026str (cheap -- AsRef) \u0026str -\u003e String (expensive -- memcpy) å¯ä»¥å°†ç»“æ„ä½“çš„ lifetime çš„ç¬¬ä¸€ä¸ª (ä¸€èˆ¬ä¸º 'a) è§†ä¸ºå®ä¾‹çš„ lifetimeï¼Œå…¶å®ƒçš„å¯ä»¥è¡¨ç¤ºä¸å®ä¾‹ lifetime æ— å…³çš„ lifetimeã€‚ç”±äº compiler ä¸å¤Ÿæ™ºèƒ½ï¼Œæ‰€ä»¥å®ƒä¼šå°†å®ä¾‹åŒ–æ—¶ä¼ å…¥å‚æ•°çš„ lifetime ä¸­ç›¸å…³è”çš„æœ€å° lifetime è§†ä¸ºå®ä¾‹çš„ lifetime çº¦æŸ (å³å®ä¾‹çš„ lifetime åŒ…å«äºè¯¥ lifetime å†…)ã€‚ å¯¹äº String ä½¿ç”¨ \u0026* å¯ä»¥ä¿è¯å°†å…¶è½¬æ¢æˆ \u0026strï¼Œå› ä¸º * ä¼šå…ˆå°† String è½¬æ¢æˆ strã€‚å½“ç„¶å¯¹äºå‡½æ•°å‚æ•°çš„ \u0026strï¼Œåªéœ€ä¼ å…¥ \u0026String å³å¯è‡ªåŠ¨è½¬æ¢ç±»å‹ã€‚ ","date":"2024-01-25","objectID":"/posts/lifetime-annotations/:2:0","tags":["Rust","Lifetime"],"title":"Crust of Rust: Lifetime Annotations","uri":"/posts/lifetime-annotations/"},{"categories":["Rust"],"content":"Documentations è¿™é‡Œåˆ—ä¸¾è§†é¢‘ä¸­ä¸€äº›æ¦‚å¿µç›¸å…³çš„ documentation å­¦ä¹ çš„ä¸€æ‰‹èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ï¼Œè¯·åŠ¡å¿…è‡ªä¸»å­¦ä¼šé˜…è¯»è§„æ ¼ä¹¦ä¹‹ç±»çš„èµ„æ–™ ","date":"2024-01-25","objectID":"/posts/lifetime-annotations/:3:0","tags":["Rust","Lifetime"],"title":"Crust of Rust: Lifetime Annotations","uri":"/posts/lifetime-annotations/"},{"categories":["Rust"],"content":"Crate std å¯ä»¥ä½¿ç”¨è¿™é‡Œæä¾›çš„æœç´ æ è¿›è¡Œæœç´¢ (BTW ä¸è¦æµªè´¹æ—¶é—´åœ¨ Google æœå¯»ä¸Šï¼) Keywords Keyword SelfTy Keyword ref Trait std::iter::Iterator method std::iter::Iterator::eq method std::iter::Iterator::collect method std::iter::Iterator::position method std::iter::Iterator::find Enum std::option::Option method std::option::Option::take method std::option::Option::as_mut method std::option::Option::expect Primitive Type str method str::find method str::char_indices Trait std::ops::Try Macro std::try method char::len_utf8 ","date":"2024-01-25","objectID":"/posts/lifetime-annotations/:4:0","tags":["Rust","Lifetime"],"title":"Crust of Rust: Lifetime Annotations","uri":"/posts/lifetime-annotations/"},{"categories":["Linux Distribution"],"content":"è®°å½•ä¸€ä¸‹æŠ˜è…¾ Deepin 20.9 çš„ç‰©ç†æœºçš„è¿‡ç¨‹ä¸ç›¸å…³çš„é…ç½®ã€‚ ","date":"2024-01-24","objectID":"/posts/deepin20.9/:0:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"å®‰è£…ä¸é…ç½® æ–°æ‰‹æ•™å­¦å½±ç‰‡ï¼š æ·±åº¦æ“ä½œç³»ç»Ÿdeepinä¸‹è½½å®‰è£… (é™„åŒç³»ç»Ÿå®‰è£…åŠåˆ†åŒºæŒ‡å¼•) [bilibili] å®‰è£…å®Œdeepinä¹‹åè¯¥åšçš„äº‹æƒ… [bilibili] ","date":"2024-01-24","objectID":"/posts/deepin20.9/:1:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"ç½‘ç»œä»£ç† æ–°æ‰‹æ•™å­¦æ–‡æ¡£: Ubuntu 22.04LTS ç›¸å…³é…ç½® åœ¨å¢ƒå†…å¯ä»¥ä½¿ç”¨ gitclone.com æ¥åŠ é€Ÿ clone çš„é€Ÿåº¦ã€‚ ","date":"2024-01-24","objectID":"/posts/deepin20.9/:2:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"ç¼–è¾‘å™¨: VS Code æ–°æ‰‹æ•™å­¦æ–‡æ¡£: ç¼–è¾‘å™¨: Visual Studio Code [HackMD] æœ¬äººçš„ä¸€äº›æ³¨è§£: GNU/Linux å¼€å‘å·¥å…· è¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹æœ¬äººé…ç½®çš„æ’ä»¶ï¼š Even Better TOML CodeLLDB ç”¨äºè°ƒè¯• Rust Git History Native Debug ç”¨äºè°ƒè¯• C/C++ rust-analyzer Tokyo Night æŒºå¥½çœ‹çš„ä¸€ä¸ªä¸»é¢˜ Vim VSCode Great Icons æ–‡ä»¶å›¾æ ‡ä¸»é¢˜ ","date":"2024-01-24","objectID":"/posts/deepin20.9/:3:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"ç»ˆç«¯å’Œ Vim æ–°æ‰‹æ•™å­¦æ–‡æ¡£: çµ‚ç«¯æ©Ÿå’Œ Vim è¨­å®š [HackMD] æœ¬äººçš„ä¸€äº›æ³¨è§£: GNU/Linux å¼€å‘å·¥å…· æœ¬äººçš„ç»ˆç«¯æç¤ºç¬¦é…ç½®: \\u@\\h\\W æœ¬äººä½¿ç”¨ Minimalist Vim Plugin Manager æ¥ç®¡ç† Vim æ’ä»¶ï¼Œé…ç½®å¦‚ä¸‹: \" Specify a directory for plugins (for Neovim: ~/.local/share/nvim/plugged) call plug#begin('~/.vim/plugged') Plug 'Shougo/neocomplcache' Plug 'scrooloose/nerdtree' map \u003cF5\u003e :NERDTreeToggle\u003cCR\u003e call plug#end() let g:neocomplcache_enable_at_startup = 1 let g:neocomplcache_enable_smart_case = 1 inoremap \u003cexpr\u003e\u003cTAB\u003e pumvisible()?\"\\\u003cC-n\u003e\" : \"\\\u003cTAB\u003e\" syntax on set number set cursorline colorscheme default set bg=dark set tabstop=4 set expandtab set shiftwidth=4 set ai set hlsearch set smartindent map \u003cF4\u003e : set nu!\u003cBAR\u003eset nonu?\u003cCR\u003e \" autocomplete dropdown list colorscheme hi Pmenu ctermfg=0 ctermbg=7 hi PmenuSel ctermfg=7 ctermbg=4 ","date":"2024-01-24","objectID":"/posts/deepin20.9/:4:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"ç³»ç»Ÿè¯­è¨€: Rust å®‰è£…æ•™ç¨‹: Installation [The book] å®‰è£… Rust [Rust course] Channels [The rustup book] # install rust $ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh # install nightly toolchain $ rustup toolchain install nightly # change to nightly toolchain $ rustup default nightly # list installed toolchain $ rustup toolchain list # update installed toolchain $ rustup update ä¸ªäººåå‘äºä½¿ç”¨ nightly toolchain ","date":"2024-01-24","objectID":"/posts/deepin20.9/:5:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"æ•ˆæœå±•ç¤º Deepin Terminial Vim Deepin DDE Desktop ","date":"2024-01-24","objectID":"/posts/deepin20.9/:6:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"FAQ é—®é¢˜ é‡å¯åå¯èƒ½ä¼šå‡ºç°ï¼Œè¾“å…¥å¯†ç æ— æ³•è¿›å…¥å›¾å½¢ç•Œé¢é‡æ–°è¿”å›ç™»å½•ç•Œé¢ï¼Œè¿™ä¸€å¾ªç¯çŠ¶å†µã€‚è¿™ä¸ªæ˜¯ deepin çš„é»˜è®¤ shell æ˜¯ dash é€ æˆçš„ï¼Œåªéœ€å°†é»˜è®¤çš„ shell æ”¹ä¸º bash å³å¯è§£å†³é—®é¢˜ï¼š $ ls -l /bin/sh lrwxrwxrwx 1 root root 9 xxæœˆ xx xx:xx /bin/sh -\u003e /bin/dash $ sudo rm /bin/sh $ sudo ln -s /bin/bash /bin/sh å¦‚æœä½ å·²ç»å¤„äºæ— é™ç™»å½•ç•Œé¢å¾ªç¯è¿™ä¸€çŠ¶å†µï¼Œå¯ä»¥é€šè¿‡ Ctrl + Alt + \u003cF2\u003e è¿›å…¥ tty2 ç•Œé¢è¿›è¡Œä¿®æ”¹ï¼š # å…ˆæŸ¥çœ‹é—®é¢˜æ—¥å¿—ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ shell å¯¼è‡´çš„é—®é¢˜ $ cat .xsession-errors # å¦‚æœæ˜¯ï¼Œåˆ™é‡å¤ä¸Šé¢çš„æ“ä½œå³å¯ ","date":"2024-01-24","objectID":"/posts/deepin20.9/:7:0","tags":["Linux","Deepin"],"title":"æ·±åº¦æ“ä½œç³»ç»Ÿ Deepin 20.9 å®‰è£…é…ç½®","uri":"/posts/deepin20.9/"},{"categories":["Linux Distribution"],"content":"åœ¨ deepin 20.9 ä¸Šæ ¹æ® DragonOS æ„å»ºæ–‡æ¡£ çš„ bootstrap.sh çš„æ–¹å¼æ¥æ„å»º DragonOS æ—¶ï¼Œå¦‚æœæ²¡æœ‰äº‹å…ˆå®‰è£… Qemu ä¼šå‡ºç° KVM ç›¸å…³çš„ä¾èµ–é—®é¢˜ã€‚æœ¬æ–‡è®°å½•è§£å†³è¿™ä¸€é—®é¢˜çš„è¿‡ç¨‹ã€‚ å¦‚æœäº‹å…ˆæ²¡æœ‰å®‰è£… Qemuï¼Œåœ¨ä½¿ç”¨ bootstrap.sh æ—¶ä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š $ bash bootstrap.sh ... ä¸‹åˆ—è½¯ä»¶åŒ…æœ‰æœªæ»¡è¶³çš„ä¾èµ–å…³ç³»ï¼š qemu-kvm : ä¾èµ–: qemu-system-x86 E: æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚ æŸ¥è¯¢ deepin è®ºå›ä¸Šçš„ç›¸å…³å†…å®¹ï¼šqemu-kvmæ— æ³•å®‰è£…ï¼Œå¯ä»¥å¾—çŸ¥æ˜¯å› ä¸º qemu-kvm åœ¨ debian å‘è¡Œç‰ˆä¸Šåªæ˜¯ä¸€ä¸ªè™šåŒ…ï¼Œæ‰€ä»¥å¯¹äº x86 æ¶æ„çš„æœºå™¨å¯ä»¥ç›´æ¥å®‰è£… qemu-systerm-x86 Debian qemu-kvm https://packages.debian.org/search?keywords=qemu-kvm å®‰è£… qemu-systerm-x86: $ sudo apt install qemu-systerm-x86 $ $ qemu-system-x86_64 --version QEMU emulator version 5.2.0 (Debian 1:5.2+dfsg-11+deb11u1) Copyright (c) 2003-2020 Fabrice Bellard and the QEMU Project developers å®‰è£…çš„ qemu ç‰ˆæœ¬çœ‹èµ·æ¥æœ‰ç‚¹ä½ï¼Œä½†æ˜¯å…ˆä½¿ç”¨ bootstrap.sh å¿«é€Ÿå®‰è£…å…¶å®ƒä¾èµ–é¡¹ï¼Œç„¶åå°è¯•ç¼–è¯‘è¿è¡Œä¸€ä¸‹ DragonOS: $ bash bootstrap.sh ... |-----------Congratulations!---------------| | | | ä½ æˆåŠŸå®‰è£…äº†DragonOSæ‰€éœ€çš„ä¾èµ–é¡¹! | | | | è¯·å…³é—­å½“å‰ç»ˆç«¯, å¹¶é‡æ–°æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ | | ç„¶åé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿è¡Œ: | | | | make run | | | |------------------------------------------| æ–°å¼€ä¸€ä¸ªç»ˆç«¯æˆ–åˆ·æ–°ä¸€ä¸‹ ~/.bashrc: $ cd DragonOS $ make run è¿è¡Œ DragonOS Ok å¯ä»¥æˆåŠŸè¿è¡Œ æ³¨æ„ å¦‚æœéœ€è¦ä½¿ç”¨ RISC-V çš„ Qemu æ¨¡æ‹Ÿå™¨ï¼Œå®‰è£… qemu-system-misc å³å¯ï¼š $ sudo apt install qemu-system-misc ","date":"2024-01-22","objectID":"/posts/deepin-dragonos/:0:0","tags":["Deepin","Linux","DragonOS"],"title":"åœ¨ Deepin 20.9 ä¸Šæ„å»º DragonOS","uri":"/posts/deepin-dragonos/"},{"categories":["Mathematics"],"content":"éšæœºå˜é‡ (Random Variable) æ˜¯æ¦‚ç‡ (Probability) å’Œç»Ÿè®¡ (Statistics) çš„â€œçµé­‚â€ï¼Œä»æ•°å­¦ä¸Šè®²ï¼ŒRandom Variable æ˜¯è¿æ¥ Probability å’Œ Statistics çš„æ¡¥æ¢ï¼›ä»å®é™…ä¸Šè®²ï¼ŒRandom Variable è¡¨ç¤ºæˆ‘ä»¬æ‰€å…³å¿ƒã€æœŸæœ›çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ä¸€æ‰¹äº§å“çš„ç¡¬åº¦ï¼Œæ¯ä¸ªäº§å“çš„ç¡¬åº¦æ˜¾ç„¶æ˜¯ä¸åŒçš„ã€æ˜¯éšæœºçš„ï¼Œå°½ç®¡ç¡¬åº¦æ˜¯éšæœºçš„ï¼Œä½†äº§å“çš„ç¡¬åº¦éµå¾ªä¸€å®šçš„æ¦‚ç‡è§„å¾‹ï¼Œè¿™ç§éšæœºã€ä½†å´éµå¾ªä¸€å®šæ¦‚ç‡è§„å¾‹çš„ä¸œè¥¿ï¼Œå°±æ˜¯ Random Valueã€‚ å­¦ä¹ ä¸€é—¨è¯¾ï¼Œè¦å­¦ä¹ å…¶â€œç²¾ç¥â€ï¼Œè€Œä¸æ˜¯å­¦ä¹ å…¶æ–¹æ³•ã€‚ ","date":"2024-01-20","objectID":"/posts/nycu-statistics/:0:0","tags":["Mathematics","Statistics","Probility","Random Variable"],"title":"\u003cäº¤å¤§ç»Ÿè®¡å­¦\u003e é‡ç‚¹æç¤º","uri":"/posts/nycu-statistics/"},{"categories":["Mathematics"],"content":"Concepts å¼•ç”¨ Sample space $S$: Set of possible outcomes of a random experiment. Every subset of $S$ is an event. Random experiment æ˜¯ä¸€ç§ç‰¹æ®Šçš„å®éªŒã€‚ç‰©ç†å®éªŒã€åŒ–å­¦å®éªŒåœ¨ç›¸åŒçš„æ¡ä»¶ä¸‹æ‰€äº§ç”Ÿçš„ç»“æœæ˜¯ç›¸åŒçš„ï¼Œä½† Random experiment ä¸åŒï¼Œåœ¨ç›¸åŒçš„æ¡ä»¶ä¸‹ï¼Œæ¯æ¬¡å®éªŒçš„ç»“æœæ˜¯éšæœºçš„ã€‚ä½† Random experiment ç»“æœçš„æƒ…å†µæ˜¯æœ‰é™çš„ï¼Œæ‰€æœ‰å®éªŒç»“æœçš„é›†åˆå°±ç§°ä¸º Sample spaceã€‚ å¼•ç”¨ Probability set function $P$ on subset of $S$ satisfies: $P(A) \\geq 0$ $P(S) = 1$ $P(\\bigcup\\limits_{k=1}^{\\infty} A_k) = \\sum\\limits_{k=1}^{\\infty} A_k\\ \\ \\ if A_i \\bigcap A_j = \\emptyset\\ for\\ all\\ i \\neq j$ A random variable $X$ is a real-valued function define on $S$. $$ X:\\ S \\rightarrow R\\ \\ \\ or \\ \\ \\ S \\xrightarrow{X} R $$ set function æ˜¯å¯¹ set è¿›è¡Œæ˜ å°„çš„ functionï¼Œæ‰€ä»¥ $P$ æ˜¯ subset of $S$ åˆ°å®æ•°çš„æ˜ å°„å…³ç³»ï¼Œé€šè¿‡ $P$ å¯ä»¥è®¡ç®— event å¯¹åº”çš„æ¦‚ç‡å€¼ã€‚ Probability set function $P$ æœ‰ 3 ä¸ªç¬¦åˆç›´è§‰çš„åŸºæœ¬å‡†åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™ 3 ä¸ªå‡†åˆ™å¯ä»¥æ¨å¯¼å‡ºå…¶å®ƒç¬¦åˆç›´è§‰çš„æ€§è´¨: $$ \\forall A \\subset S \\implies \\begin{cases} P(\\emptyset) \u0026= 0 \\\\ P(A^{C}) \u0026= 1 - p \\end{cases} $$ Proof. $$ \\begin{split} \u0026 \\mathrm{since}\\ \\emptyset \\cap S = \\emptyset \\\\ \u0026 \\mathrm{then}\\ P(S) = P(\\emptyset \\cap S) = P(\\emptyset) + P(S) \\\\ \u0026 \\mathrm{and}\\ P(S) = 1 \\\\ \u0026 \\mathrm{thus}\\ P(\\emptyset) = P(S) - P(S) = 0 \\\\ \u0026 Q.D.E. \\\\ \u0026 \\\\ \u0026 \\mathrm{since}\\ A^{C} \\cap A = \\emptyset \\\\ \u0026 \\mathrm{then}\\ P(S) = P(A^{C} \\cup A) = P(A^{C}) + P(A) \\\\ \u0026 \\mathrm{and}\\ P(S) = 1 \\\\ \u0026 \\mathrm{thus}\\ P(A^{C}) = P(S) - P(A) = 1 - p \\\\ \u0026 Q.D.E. \\end{split} $$ Random variable $X$ æ˜¯å°† sample space $S$ æ˜ å°„åˆ°å®æ•°åŸŸ $R$ çš„æ˜ å°„å…³ç³»ï¼Œå³ $S$ æ˜¯å®šä¹‰åŸŸ (domain)ï¼Œ$R$ æ˜¯å€¼åŸŸ (co-domain)ã€‚ç”±äº $S$ å’Œ $R$ åœ¨è®¡æ•°ä¸Šå¹¶ä¸ç›¸åŒï¼Œæ‰€ä»¥ $r.v.\\ X$ åªæ˜¯å•å°„ï¼Œå¹¶ä¸æ˜¯æ»¡å°„ã€‚ ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·çš„æ˜ å°„å…³ç³»ï¼Ÿå› ä¸ºå¯¹äºå®æ•°ï¼Œå¯ä»¥ä½¿ç”¨å¾®ç§¯åˆ†è¿™ç±»æ•°å­¦å·¥å…·å¯¹æ¦‚ç‡çš„æ€§è´¨è¿›è¡Œç ”ç©¶ï¼Œè€Œå¾®ç§¯åˆ†è¿™ç±»æ•°å­¦å·¥å…·å¯¹äº sample space æ˜¾ç„¶æ˜¯æ— æ³•ä½¿ç”¨çš„ã€‚ ä½†æ˜¯æ³¨æ„ï¼Œæ ¹æ® Probability set function çš„å®šä¹‰ï¼Œå¯¹äºæ˜ å°„åå®æ•°åŸŸä¸Šçš„é›†åˆï¼Œæˆ‘ä»¬æ˜¯æ— æ³•ç›´æ¥æ±‚å¾—å¯¹åº”çš„æ¦‚ç‡å€¼ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç±»ä¼¼åå‡½æ•°çš„æ˜ å°„å…³ç³» $X^{-1}:\\ R \\rightarrow S$ æ¥å°† $R$ æ˜ å°„å› $S$ï¼Œä»è€Œè®¡ç®—å¯¹åº”çš„æ¦‚ç‡å€¼ã€‚ ä¸ºä»€ä¹ˆæ˜¯ç±»ä¼¼åå‡½æ•°çš„æ˜ å°„ï¼ŸåŸå› å¦‚ä¸Šé¢æ‰€è¯´çš„ï¼Œ$S$ å’Œ $R$ åœ¨è®¡æ•°ä¸Šå¹¶ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥ $R$ åˆ° $S$ çš„æ˜ å°„æœ‰å¯èƒ½ä¸æ»¡è¶³å•å°„ã€‚ å¼•ç”¨ Our interest of Probability: Given $B \\subset R$, what $P(x \\in B) =\\ ?$ $$ (X \\in B) = X^{-1}(B) = \\{s \\in S: X(s) \\in B\\} \\subset S \\\\ \\implies P(x \\in B) = P(\\{s \\in S: X(s) \\in B\\}) $$ Distribution function (df) of a r.v. $X$ is $$ F(x) = P(X \\leq x),\\ x \\in R $$ å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹å®æ•°åŸŸä¸Šçš„é›†åˆ $B$ æ±‚å…¶æ¦‚ç‡å€¼ï¼Œåˆ™å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„ï¼Œéœ€è¦ä½¿ç”¨ $X^{-1}$ å°† $R$ æ˜ å°„å› $S$ã€‚ç”±äºå¯èƒ½æ˜¯éå•å°„çš„æ˜ å°„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨é›†åˆ $\\{s \\in S: X(s) \\in B\\}$ æ¥è¡¨ç¤ºæ˜ å°„ç»“æœï¼Œæ‰€ä»¥ $(x \\in B)$ ä¹Ÿå¯ä»¥è¡¨ç¤º eventã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯¹å®æ•°åŸŸä¸Šçš„é›†åˆæ±‚å…¶æ¦‚ç‡å€¼äº†ï¼Œä¹Ÿå³æ­¤æ—¶æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ª $subset\\ of\\ R$ åˆ° $R$ çš„æ˜ å°„å…³ç³»ã€‚ ä½†æ˜¯è¿™æ ·ä»ç„¶æ— æ³•åœ¨äºŒç»´åæ ‡è½´ä¸Šè¿›è¡Œç›´è§‚è¡¨ç¤ºï¼Œä¹Ÿæ— æ³•å¯¹è¯¥å…³ç³»ä½¿ç”¨å¾®ç§¯åˆ†ç­‰å·¥å…·è¿›è¡Œç ”ç©¶ï¼Œæˆ‘ä»¬éœ€è¦ $R \\rightarrow R$ çš„æ˜ å°„å…³ç³»ã€‚ Distribution function (df) å°±æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ $R \\rightarrow R$ çš„æ˜ å°„å…³ç³»ï¼Œå¯¹äº $R$ ä¸Šçš„æ¯ä¸€ä¸ª $x$ æ˜ å°„åˆ° $P(X \\leq x)$ã€‚ æ³¨æ„ $X \\leq x$ åªæ˜¯ä¸€ä¸ªæ•°å­¦è¡¨ç¤ºï¼Œå¹¶ä¸å…·å¤‡æ•°å­¦æ„ä¹‰ï¼Œå› ä¸º $X$ ä½œä¸ºä¸€ä¸ª real-valued function å’Œå®æ•° $x$ è¿›è¡Œå…³ç³»è¿ç®—æ˜¾ç„¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ $X \\leq x$ è¡¨ç¤ºåœ¨ r.v. $X$ çš„æ˜ å°„å…³ç³»ä¸‹ï¼Œé›†åˆ $y \\in (-\\infty, x]$ å³ $\\{s \\in S: X(s) \\in (-\\infty, x]\\}$ï¼Œæ‰€ä»¥ $$ P(X \\leq x) = P(\\{s \\in S: X(s) \\in (-\\infty, x]\\}) $$ æœ‰äº† df æˆ‘ä»¬å°±å¯ä»¥å°†æ¦‚ç‡çš„æ€§è´¨é€šè¿‡äºŒç»´åæ ‡è½´è¿›è¡Œç›´è§‚æ˜¾ç¤ºï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¾®ç§¯åˆ†è¿™ç±»å·¥å…·è¿›è¡Œè¿›ä¸€æ­¥ç ”ç©¶ã€‚ æ¥ä¸‹æ¥ä»¥ä¸€äº›å¸¸è§çš„æ¦‚ç‡åˆ†å¸ƒæ¥å¯¹ä¹‹å‰æ‰€æçš„æ¦‚å¿µè¿›è¡Œå®ä½œï¼š å¼•ç”¨ Some Distributions: Bernoulli distribution and Binomial distribution. A experiment with two possible outcomes is called a Bernoulli experiment. We denote the sample space by $$S = \\{S, F\\},\\ S = Success,\\ F = Failure$$ Probability set function: $$P(\\{S\\}) = p,\\ P(\\{F\\}) = 1-p,\\ 0 \\le p \\le 1$$ We define r.v. $X$ on $S = \\{S, F\\}$ by $$ X(S) = 1, X(F) = 0 \\\\ \\implies \\{S, F\\} \\xrightarrow{X} \\{0, 1\\} $$ The Probability are $$ P(X = 1) = P(X^{-1}\\{1\\}) = P(\\{S\\}) = p $$ æˆ‘ä»¬å¯ä»¥ä»è¿™ä¸ª Bernoulli distribution çš„ä¾‹å­ä¸­æç‚¼ç»Ÿè®¡çš„ä¸€èˆ¬æ€è·¯: ä» Random experiment ä¸­æ„å»º Sample space $S$ é€šè¿‡ Probability set function è®¡ç®— event å¯¹åº”çš„æ¦‚ç‡å€¼ å®šä¹‰ Random variable $X$ å®ç° $S$ åˆ° $R$ çš„æ˜ å°„å…³ç³» å¯¹ Distribution function (df) è¿›ä¸€æ­¥åˆ†æ ","date":"2024-01-20","objectID":"/posts/nycu-statistics/:1:0","tags":["Mathematics","Statistics","Probility","Random Variable"],"title":"\u003cäº¤å¤§ç»Ÿè®¡å­¦\u003e é‡ç‚¹æç¤º","uri":"/posts/nycu-statistics/"},{"categories":["Mathematics"],"content":"References List of LaTeX mathematical symbols ","date":"2024-01-20","objectID":"/posts/nycu-statistics/:2:0","tags":["Mathematics","Statistics","Probility","Random Variable"],"title":"\u003cäº¤å¤§ç»Ÿè®¡å­¦\u003e é‡ç‚¹æç¤º","uri":"/posts/nycu-statistics/"},{"categories":["Linux Kernel Internals"],"content":" æ‘˜è¦ å¤§å‹å¼€æºé¡¹ç›®çš„è§„æ¨¡ååˆ†åºå¤§ï¼Œä¾‹å¦‚ä½¿ç”¨ Rust ç¼–å†™çš„ Servo æµè§ˆå™¨ï¼Œè¿™ä¸ªé¡¹ç›®æœ‰è¿‘åä¸‡è¡Œä»£ç ã€‚åœ¨å¼€å‘è§„æ¨¡å¦‚æ­¤åºå¤§çš„é¡¹ç›®æ—¶ï¼Œäº†è§£å¦‚ä½•é€šè¿‡æ­£ç¡®çš„æ–¹å¼è¿›è¡Œè°ƒè¯•éå¸¸é‡è¦ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿåœ°æ‰¾åˆ°ç“¶é¢ˆã€‚ åŸæ–‡åœ°å€ | æ•™å­¦è§†é¢‘ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:0:0","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"GDB è°ƒè¯• è§‚çœ‹æ•™å­¦è§†é¢‘ æ‹¯æ•‘è³‡å·¥ç³»å­¸ç”Ÿçš„åŸºæœ¬ç´ é¤Šâ€”ä½¿ç”¨ GDB é™¤éŒ¯åŸºæœ¬æ•™å­¸ å’Œæ­é…åšæ–‡ ==[How to debug Rust/C/C++ via GDB][debug-gdb]==ï¼Œå­¦ä¹  GDB çš„åŸºæœ¬æ“ä½œå’Œç†Ÿæ‚‰ä½¿ç”¨ GDB è°ƒè¯• Rust/C/C++ ç¨‹åºã€‚ æŒæ¡ run/r, break/b, print/p, continue/c, step/s info/i, delete/d, backtrace/bt, frame/f, up/down, exit/q ç­‰å‘½ä»¤çš„ç”¨æ³•ã€‚ä»¥åŠ GBD çš„ä¸€äº›ç‰¹æ€§ï¼Œä¾‹å¦‚ GDB ä¼šå°†ç©ºç™½è¡Œçš„æ–­ç‚¹è‡ªåŠ¨ä¸‹ç§»åˆ°ä¸‹ä¸€ä»£ç è¡Œï¼›ä½¿ç”¨ break å‘½ä»¤æ—¶å¯ä»¥è¾“å…¥æºæ–‡ä»¶è·¯å¾„ï¼Œä¹Ÿå¯ä»¥åªè¾“å…¥æºæ–‡ä»¶åç§°ã€‚ ç›¸å…³çš„æµ‹è¯•æ–‡ä»¶ï¼š test.c hello_cargo/ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:1:0","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"GDB åŸºæœ¬ä»‹ç» å¼•ç”¨ â€œGDB, the GNU Project debugger, allows you to see what is going on â€˜insideâ€™ another program while it executes â€” or what another program was doing at the moment it crashed.â€ â€” from gnu.org å®‰è£… GDB: $ sudo apt install gdb å¯åŠ¨ GDB æ—¶å¯ä»¥åŠ å…¥ -q å‚æ•° (quite)ï¼Œè¡¨ç¤ºå‡å°‘æˆ–ä¸è¾“å‡ºä¸€äº›æç¤ºæˆ–ä¿¡æ¯ã€‚ LLDB ä¸ GDB çš„å‘½ä»¤ç±»ä¼¼ï¼Œæœ¬æ–‡ä¹Ÿå¯ç”¨äº LLDB çš„å…¥é—¨å­¦ä¹ ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:2:0","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"GDB è°ƒè¯• C/C++ è¦ä½¿ç”¨ GDB æ¥è°ƒè¯• C/C++ï¼Œéœ€è¦åœ¨ç¼–è¯‘æ—¶åŠ ä¸Š -g å‚æ•°ï¼ˆå¿…éœ€ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -Og å‚æ•°æ¥å¯¹ debug è¿›è¡Œä¼˜åŒ–ï¼ˆä½†ä½¿ç”¨ -Og å compiler å¯èƒ½ä¼šæŠŠä¸€äº›ä¸œè¥¿ç§»é™¤æ‰ï¼Œæ‰€ä»¥ debug æ—¶å¯èƒ½ä¸ä¼šç¬¦åˆé¢„æœŸï¼‰ï¼Œä¾‹å¦‚ï¼š $ gcc test.c -Og -g -o test $ gdb -q ./test Source ","date":"2024-01-16","objectID":"/posts/debug-gdb/:3:0","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"GDB è°ƒè¯• Rust åœ¨ä½¿ç”¨ build å‘½ä»¤æ„å»º debug ç›®æ ‡æ–‡ä»¶ï¼ˆå³ä½äº target/debug ç›®å½•ä¸‹çš„ç›®æ ‡æ–‡ä»¶ï¼Œä¸ package åŒåï¼‰åï¼Œå°±å¯ä»¥é€šè¿‡ gdb æ¥è¿›è¡Œè°ƒè¯•ï¼š $ cargo build $ gdb -q ./target/debug/\u003cpackage name\u003e ä½†æ˜¯å¦‚æœæ˜¯ä½¿ç”¨ cargo build --release æ„å»ºçš„ release ç›®æ ‡æ–‡ä»¶ï¼ˆå³ä½äº target/release ç›®å½•ä¸‹çš„ç›®æ ‡æ–‡ä»¶ï¼‰ï¼Œåˆ™æ— æ³•ä½¿ç”¨ GDB è¿›è¡Œè°ƒè¯•ï¼Œå› ä¸º release ç›®æ ‡æœªåŒ…å«ä»»ä½•è°ƒè¯•ä¿¡æ¯ï¼Œç±»ä¼¼äºæœªä½¿ç”¨ -g å‚æ•°ç¼–è¯‘ C/C++ æºä»£ç ã€‚ Source ","date":"2024-01-16","objectID":"/posts/debug-gdb/:4:0","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"GDB åŸºæœ¬å‘½ä»¤ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:0","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"run run (r) å‘½ä»¤ç”¨äºä»ç¨‹åºçš„æ‰§è¡Œèµ·å§‹ç‚¹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹æˆ–è€…ç¨‹åºç»“æŸã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:1","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"continue continue (c) å‘½ä»¤ç”¨äºä»å½“å‰åœæ­¢çš„æ–­ç‚¹ä½ç½®å¤„ç»§ç»­æ‰§è¡Œç¨‹åºï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹æˆ–è€…ç¨‹åºç»“æŸã€‚ æ³¨æ„ run å’Œ continue çš„åŒºåˆ«åœ¨äº run æ˜¯å°†ç¨‹åºä»å¤´å¼€å§‹æ‰§è¡Œã€‚ä¾‹å¦‚å¦‚æœæœªè®¾ç½®ä»»ä½•æ–­ç‚¹ï¼Œä½¿ç”¨ run å¯ä»¥åå¤æ‰§è¡Œç¨‹åºï¼Œè€Œå¦‚æœä½¿ç”¨ continue åˆ™ä¼šæç¤º The program is not being runã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:2","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"step step (s) å‘½ä»¤ç”¨äº é€è¡Œ æ‰§è¡Œç¨‹åºï¼Œåœ¨é‡åˆ°å‡½æ•°è°ƒç”¨æ—¶è¿›å…¥å¯¹åº”å‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨çš„ç¬¬ä¸€è¡Œæš‚åœã€‚step å‘½ä»¤ä»¥ å•æ­¥æ–¹å¼ æ‰§è¡Œç¨‹åºçš„æ¯ä¸€è¡Œä»£ç ï¼Œå¹¶è·Ÿè¸ªå‡½æ•°è°ƒç”¨çš„è¿›å…¥å’Œé€€å‡ºã€‚ (gdb) step 6 bar += 3; (gdb) step 7 printf(\"bar = %d\\n\", bar); æ³¨æ„ step å‘½ä»¤ä¸ continue å‘½ä»¤ç›¸åŒï¼Œåªèƒ½åœ¨ç¨‹åºå¤„äºè¿è¡Œæ€ï¼ˆå³åœç•™åœ¨æ–­ç‚¹å¤„ï¼‰æ—¶æ‰èƒ½ä½¿ç”¨ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:3","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"next next (n) å‘½ä»¤ç”¨äºæ‰§è¡Œå½“å‰è¡Œå¹¶ç§»åŠ¨åˆ° ä¸‹ä¸€è¡Œï¼Œå®ƒç”¨äºé€è¡Œæ‰§è¡Œç¨‹åºï¼Œä½†ä¸ä¼šè¿›å…¥å‡½æ•°è°ƒç”¨ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:4","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"break break (b) å‘½ä»¤ç”¨äºåœ¨å¯æ‰§è¡Œé—®å·å¯¹åº”çš„æºç¨‹åºä¸­åŠ å…¥æ–­ç‚¹ï¼Œå¯ä»¥åœ¨ç¨‹åºå¤„äº æœªè¿è¡Œæ€/è¿è¡Œæ€ æ—¶åŠ å…¥æ–­ç‚¹ï¼ˆè¿è¡Œæ€æ˜¯æŒ‡ç¨‹åºåœç•™åœ¨æ–­ç‚¹å¤„ä½†æœªæ‰§è¡Œå®Œæ¯•çš„å§¿æ€ï¼‰ã€‚ å¯ä»¥é€šè¿‡æŒ‡å®š æºæ–‡ä»¶å¯¹åº”çš„ è¡Œæ•°/å‡½æ•°å æ¥åŠ å…¥æ–­ç‚¹ï¼ˆæºæ–‡ä»¶åå¯ä»¥çœç•¥ï¼‰ï¼š (gdb) break test.c:7 (gdb) break test.c:foo å¦‚æœå¯æ‰§è¡Œæ–‡ä»¶ç”±å¤šä¸ªæºæ–‡ä»¶ç¼–è¯‘é“¾æ¥å¾—åˆ°ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š æºæ–‡ä»¶åå­— çš„æ–¹å¼æ¥åŠ å…¥æ–­ç‚¹ï¼Œæ— éœ€æºæ–‡ä»¶è·¯å¾„ï¼Œä½†å¦‚æœä¸åŒè·¯å¾„æœ‰é‡åæºæ–‡ä»¶ï¼Œåˆ™éœ€è¦æŒ‡å®šè·¯å¾„æ¥åŒºåˆ†ï¼š (gdb) break test1.c:7 (gdb) break test2.c:main ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:5","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"print print (p) å‘½ä»¤ç”¨äºåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­æ‰“å° å˜é‡çš„å€¼æˆ– è¡¨è¾¾å¼ çš„ç»“æœï¼Œå¸®åŠ©å¼€å‘è€…æ£€æŸ¥ç¨‹åºçŠ¶æ€å¹¶æŸ¥çœ‹ç‰¹å®šå˜é‡çš„å½“å‰å€¼ã€‚ # Assume x: 3, y: 4 (gdb) print x $1 = 3 (gdb) print x + y $2 = 7 ä½¿ç”¨ p å‘½ä»¤æ‰“å°å˜é‡å€¼æ—¶ï¼Œä¼šåœ¨å·¦ä¾§æ˜¾ç¤ºä¸€ä¸ª $\u003cnumber\u003eï¼Œè¿™ä¸ªå¯ä»¥ç†è§£æˆä¸´æ—¶å˜é‡ï¼Œåç»­ä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªæ ‡å¿—æ¥å¤ç”¨è¿™äº›å€¼ã€‚ä¾‹å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼š (gdb) print $1 $3 = 3 (gdb) print $1 + $3 $4 = 4 ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:6","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"backtrace backtrace (bt) å‘½ä»¤ç”¨äºæ‰“å°å½“å‰è°ƒç”¨æ ˆçš„ä¿¡æ¯ï¼Œä¹Ÿç§°ä¸ºå †æ ˆå›æº¯ (backtrace)ã€‚å®ƒæ˜¾ç¤ºäº†ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç»è¿‡çš„å‡½æ•°è°ƒç”¨åºåˆ—ï¼Œä»¥åŠæ¯ä¸ªå‡½æ•°è°ƒç”¨çš„ä½ç½®å’Œå‚æ•°ï¼Œå³å¯ä»¥è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š å‡½æ•°è°ƒç”¨åºåˆ—ï¼šæ˜¾ç¤ºç¨‹åºå½“å‰çš„å‡½æ•°è°ƒç”¨åºåˆ—ï¼Œä»¥åŠæ¯ä¸ªå‡½æ•°çš„åç§°å’Œæ‰€åœ¨çš„æºä»£ç æ–‡ä»¶ã€‚ æ ˆå¸§ä¿¡æ¯ï¼šå¯¹äºæ¯ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ˜¾ç¤ºè¯¥å‡½æ•°çš„æ ˆå¸§ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ˆå¸§çš„åœ°å€å’Œæ ˆå¸§çš„å¤§å°ã€‚ (gdb) backtrace (gdb) backtrace #0 foo () at test.c:7 #1 0x00005555555551d2 in main () at test.c:14 æŠ€å·§ backtrace å‘½ä»¤å¯¹äºè·Ÿè¸ªç¨‹åºçš„æ‰§è¡Œè·¯å¾„ã€æ£€æŸ¥å‡½æ•°è°ƒç”¨çš„é¡ºåºä»¥åŠå®šä½é”™è¯¯éå¸¸æœ‰ç”¨ã€‚åœ¨å®é™…ä¸­ï¼Œä¸€èˆ¬ä¼šæ­é…å…¶ä»–GDBå‘½ä»¤ï¼ˆå¦‚ upã€down å’Œ frameï¼‰ç»“åˆä½¿ç”¨ï¼Œä»¥æŸ¥çœ‹ç‰¹å®šæ ˆå¸§çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯æˆ–åˆ‡æ¢åˆ°ä¸åŒçš„æ ˆå¸§ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ#0 å’Œ #1 è¡¨ç¤ºæ ˆå¸§çš„ç¼–å·ï¼Œå¯ä»¥é€šè¿‡ frame é…åˆè¿™äº›ç¼–å·æ¥åˆ‡æ¢æ ˆå¸§ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:7","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"where where å’Œ backtrace å‘½ä»¤éƒ½ç”¨äºæ˜¾ç¤ºç¨‹åºçš„è°ƒç”¨æ ˆä¿¡æ¯ã€‚backtrace æä¾›æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°åç§°ã€æ–‡ä»¶åã€è¡Œå·ã€å‚æ•°å’Œå±€éƒ¨å˜é‡çš„å€¼ã€‚è€Œ where å‘½ä»¤å¯ä»¥ç†è§£ä¸º backtrace çš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œå®ƒæä¾›çš„æ˜¯è¾ƒä¸ºç´§å‡‘çš„è°ƒç”¨æ ˆä¿¡æ¯ï¼Œé€šå¸¸åªåŒ…å«å‡½æ•°åç§°ã€æ–‡ä»¶åå’Œè¡Œå·ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:8","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"frame frame (f) å‘½ä»¤ç”¨äºé€‰æ‹©ç‰¹å®šçš„æ ˆå¸§ (stack frame)ï¼Œä»è€Œåˆ‡æ¢åˆ°ä¸åŒçš„å‡½æ•°è°ƒç”¨ä¸Šä¸‹æ–‡ï¼Œæ¯ä¸ªæ ˆå¸§å¯¹åº”äºç¨‹åºä¸­çš„ä¸€ä¸ªå‡½æ•°è°ƒç”¨ã€‚ æ¥ç€ä¸Šä¸€ä¸ªä¾‹å­ï¼Œåˆ‡æ¢åˆ° main å‡½æ•°æ‰€åœ¨çš„æ ˆå¸§ï¼š (gdb) frame 1 #1 0x00005555555551d2 in main () at test.c:14 14 int result = foo(); ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:9","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"up/down up å’Œ down å‘½ä»¤ç”¨äºåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­åœ¨ä¸åŒçš„æ ˆå¸§ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼š up ç”¨äºåœ¨è°ƒç”¨æ ˆä¸­å‘ä¸Šç§»åŠ¨åˆ°è¾ƒé«˜çš„æ ˆå¸§ï¼Œå³è¿›å…¥è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°ã€‚æ¯æ¬¡æ‰§è¡Œ up å‘½ä»¤ï¼ŒGDB å°†åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªï¼ˆæ›´é«˜å±‚æ¬¡ï¼‰çš„æ ˆå¸§ã€‚è¿™å¯ä»¥ç”¨äºæŸ¥çœ‹è°ƒç”¨å½“å‰å‡½æ•°çš„ä¸Šå±‚å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ down ç”¨äºåœ¨è°ƒç”¨æ ˆä¸­å‘ä¸‹ç§»åŠ¨åˆ°è¾ƒä½çš„æ ˆå¸§ï¼Œå³è¿”å›åˆ°å½“å‰å‡½æ•°è°ƒç”¨çš„å‡½æ•°ã€‚æ¯æ¬¡æ‰§è¡Œ down å‘½ä»¤ï¼ŒGDB å°†åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªï¼ˆè¾ƒä½å±‚æ¬¡ï¼‰çš„æ ˆå¸§ã€‚è¿™å¯ä»¥ç”¨äºè¿”å›åˆ°è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ è¿™ä¸¤ä¸ªå‘½ä»¤éœ€è¦å¼€å‘è€…å¯¹åº”å‡½æ•°è°ƒç”¨å †æ ˆçš„å¸ƒå±€æœ‰ä¸€å®šç¨‹åº¦çš„äº†è§£ã€‚ æ¥ç€ä¸Šä¸€ä¸ªä¾‹å­ï¼š (gdb) up #1 0x00005555555551d2 in main () at test.c:14 14 int result = foo(); (gdb) down #0 foo () at test.c:7 7 printf(\"bar = %d\\n\", bar); ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:10","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"info info (i) å‘½ä»¤ç”¨äºè·å–ç¨‹åºçŠ¶æ€å’Œè°ƒè¯•ç¯å¢ƒçš„ç›¸å…³ä¿¡æ¯ï¼Œè¯¥å‘½ä»¤åé¢å¯ä»¥è·Ÿéšä¸åŒçš„å­å‘½ä»¤ï¼Œç”¨äºè·å–ç‰¹å®šç±»å‹çš„ä¿¡æ¯ã€‚ ä¸€äº›å¸¸ç”¨çš„ info å­å‘½ä»¤ï¼š info breakpoints æ˜¾ç¤ºå·²è®¾ç½®çš„æ‰€æœ‰æ–­ç‚¹ (breakpoint) ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–­ç‚¹ç¼–å·ã€æ–­ç‚¹ç±»å‹ã€æ–­ç‚¹ä½ç½®ç­‰ã€‚ info watchpoints æ˜¾ç¤ºå·²è®¾ç½®çš„æ‰€æœ‰ç›‘è§†ç‚¹ (watchpoint) ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç›‘è§†ç‚¹ç¼–å·ã€ç›‘è§†ç‚¹ç±»å‹ã€ç›‘è§†çš„è¡¨è¾¾å¼ç­‰ã€‚ info locals æ˜¾ç¤ºå½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å€¼å’Œåç§°ã€‚ info args æ˜¾ç¤ºå½“å‰å‡½æ•°çš„å‚æ•°çš„å€¼å’Œåç§°ã€‚ info registers æ˜¾ç¤ºå½“å‰ CPU å¯„å­˜å™¨çš„å€¼ã€‚ info threads æ˜¾ç¤ºå½“å‰æ­£åœ¨è°ƒè¯•çš„æ‰€æœ‰çº¿ç¨‹ (thread) ä¿¡æ¯ï¼ŒåŒ…æ‹¬çº¿ç¨‹ç¼–å·ã€çº¿ç¨‹çŠ¶æ€ç­‰ã€‚ info frame æ˜¾ç¤ºå½“å‰æ ˆå¸§ (stack frame) çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°åç§°ã€å‚æ•°ã€å±€éƒ¨å˜é‡ç­‰ã€‚ info program æ˜¾ç¤ºè¢«è°ƒè¯•ç¨‹åºçš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚ç¨‹åºå…¥å£åœ°å€ã€ç¨‹åºçš„åŠ è½½åœ°å€ç­‰ã€‚ (gdb) info breakpoints # or simply: i b Num Type Disp Enb Address What 1 breakpoint keep y 0x000055555555518f in foo at test.c:7 2 breakpoint keep y 0x0000555555555175 in foo at test.c:4 ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:11","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"delete delete (d) å‘½ä»¤ç”¨äºåˆ é™¤æ–­ç‚¹ (breakpoint) æˆ–è§‚å¯Ÿç‚¹ (watchpoint)ã€‚æ–­ç‚¹æ˜¯åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´æš‚åœæ‰§è¡Œçš„ç‰¹å®šä½ç½®ï¼Œè€Œè§‚å¯Ÿç‚¹æ˜¯åœ¨ç‰¹å®šæ¡ä»¶æ»¡è¶³æ—¶æš‚åœæ‰§è¡Œçš„ä½ç½®ã€‚ å¯ä»¥é€šè¿‡æŒ‡å®š æ–­ç‚¹ / è§‚å¯Ÿç‚¹ çš„ç¼–å·æˆ–ä½¿ç”¨ delete å‘½ä»¤ç›¸å…³çš„å‚æ•°ï¼Œæ¥åˆ é™¤å·²è®¾ç½®çš„æ–­ç‚¹ / è§‚å¯Ÿç‚¹ã€‚æ–­ç‚¹ / è§‚å¯Ÿç‚¹ç¼–å·å¯ä»¥åœ¨ä½¿ç”¨ info breakpoints / info watchpoints å‘½ä»¤æ—¶è·å¾—ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:12","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"quit quit (q) å‘½ä»¤ç”¨äºé€€å‡º GDBï¼Œè¿”å›ç»ˆç«¯é¡µé¢ã€‚ (gdb) quit $ # Now, in the terminial ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:13","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"list list å‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰ä½ç½®çš„ä»£ç ç‰‡æ®µï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæ˜¾ç¤ºå½“å‰ä½ç½®çš„å‰å10è¡Œä»£ç ã€‚ list å‘½ä»¤ä¹Ÿå¯ä»¥æ˜¾ç¤ºæŒ‡å®šèŒƒå›´çš„ä»£ç ï¼Œä½¿ç”¨ list \u003cstart\u003e,\u003cend\u003e å‘½ä»¤å°†æ˜¾ç¤ºä» start è¡Œåˆ° end è¡Œçš„æºä»£ç ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:14","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"whatis whatis å‘½ä»¤ç”¨äºè·å–ç»™å®šæ ‡è¯†ç¬¦ï¼ˆå¦‚å˜é‡ã€å‡½æ•°æˆ–ç±»å‹ï¼‰çš„ç±»å‹ä¿¡æ¯ã€‚ // in source code int calendar[12][31]; // in gdb (gdb) whatis calendar type = int [12][31] ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:15","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"x x å‘½ä»¤ç”¨äºæŸ¥çœ‹å†…å­˜ä¸­çš„æ•°æ®ï¼Œä½¿ç”¨ x å‘½ä»¤æ­é…ä¸åŒçš„æ ¼å¼æ¥æ˜¾ç¤ºå†…å­˜ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ­é… / åè·Ÿæ•°å­—æ¥æŒ‡å®šè¦æ˜¾ç¤ºçš„å†…å­˜å•å…ƒæ•°é‡ã€‚ä¾‹å¦‚ï¼Œx/4 \u003caddress\u003e è¡¨ç¤ºæ˜¾ç¤ºåœ°å€ address å¼€å§‹çš„è¿ç»­ 4 ä¸ªå†…å­˜å•å…ƒçš„å†…å®¹ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:16","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":"å…¶ä»– å¦‚æœè¢«è°ƒè¯•ç¨‹åºæ­£å¤„äºè¿è¡Œæ€ï¼ˆå³å·²ç»é€šè¿‡ run å‘½ä»¤æ¥è¿è¡Œç¨‹åºï¼‰ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ Ctrl+C æ¥ä¸­æ–­ GDBï¼Œç¨‹åºå°†è¢«ç«‹å³ä¸­æ–­ï¼Œå¹¶åœ¨ä¸­æ–­æ—¶æ‰€è¿è¡Œåˆ°çš„åœ°æ–¹æš‚åœã€‚è¿™ç§æ–¹å¼è¢«ç§°ä¸º æ‰‹åŠ¨æ–­ç‚¹ï¼Œæ‰‹åŠ¨æ–­ç‚¹å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªä¸´æ—¶æ–­ç‚¹ï¼Œåªä¼šåœ¨è¯¥å¤„æš‚åœä¸€æ¬¡ã€‚ GDB ä¼šå°†ç©ºç™½è¡Œçš„æ–­ç‚¹è‡ªåŠ¨ä¸‹ç§»åˆ°ä¸‹ä¸€éç©ºçš„ä»£ç è¡Œã€‚ set print pretty å‘½ä»¤å¯ä»¥ä»¥æ›´æ˜“è¯»å’Œæ ¼å¼åŒ–çš„æ–¹å¼æ˜¾ç¤ºç»“æ„åŒ–æ•°æ®ï¼Œä»¥æ›´å‹å¥½çš„æ–¹å¼è¾“å‡ºç»“æ„ä½“ã€ç±»ã€æ•°ç»„ç­‰å¤æ‚ç±»å‹çš„æ•°æ®ï¼Œæ›´æ˜“äºé˜…è¯»å’Œç†è§£ã€‚ ","date":"2024-01-16","objectID":"/posts/debug-gdb/:5:17","tags":["Debug","GDB","Rust","C/C++","Sysprog"],"title":"GDB è°ƒè¯•å…¥é—¨","uri":"/posts/debug-gdb/"},{"categories":["Linux Kernel Internals"],"content":" å¼•ç”¨ ã€ŒæŒ‡é’ˆã€ æ‰®æ¼” ã€Œè®°å¿†ä½“ã€ å’Œ ã€Œç‰©ä»¶ã€ ä¹‹é—´çš„æ¡¥æ¢ åŸæ–‡åœ°å€ ç›´æ’­å½•å½±(ä¸Š) ç›´æ’­å½•å½±(ä¸‹) ","date":"2024-01-14","objectID":"/posts/c-pointer/:0:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"å‰è¨€æ‚è°ˆ Letâ€™s learn programming by inventing it [CppCon 2018] âœ… æ³¨æ„ åœ¨ K\u0026R ä¸€ä¹¦ä¸­ï¼Œç›´åˆ° 93 é¡µæ‰å¼€å§‹è°ˆè®º pointerï¼Œè€Œå…¨ä¹¦æ€»è®¡ 185 é¡µï¼Œæ‰€ä»¥å¤§æ¦‚æ˜¯åœ¨å…¨ä¹¦ $50.27\\%$ çš„ä½ç½®æ‰å¼€å§‹è®² pointerã€‚æ‰€ä»¥å³ä½¿ä¸å­¦ pointerï¼Œä½ è¿˜æ˜¯èƒ½å¤ŸæŒæ¡ $~50\\%$ çš„ C è¯­è¨€çš„å†…å®¹ï¼Œä½†æ˜¯ C è¯­è¨€çš„æ ¸å¿ƒæ­£æ˜¯ pointerï¼Œæ‰€ä»¥ Good Luck ğŸ¤£ godbolt å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µä¸Šçœ‹åˆ°ï¼Œæºä»£ç ç”±å„ç±» compiler ç”Ÿæˆçš„ Assembly Code How to read this prototype? [Stack Overflow] âœ… æ³¨æ„ è¿™ä¸ªé—®é¢˜æ˜¯å…³äº signal ç³»ç»Ÿè°ƒç”¨çš„å‡½æ•°åŸå‹è§£è¯»ï¼Œé‡Œé¢çš„å›ç­”é¡µç»™å‡ºäº†å¾ˆå¤šå¯¹äºæŒ‡é’ˆï¼Œç‰¹åˆ«æ˜¯ å‡½æ•°æŒ‡é’ˆ çš„è¯´æ˜ï¼Œä¸‹é¢èŠ‚é€‰ä¸€äº›ç‰¹åˆ«æœ‰æ„æ€çš„å›ç­”ï¼š The whole thing declares a function called signal: signal takes an int and a function pointer this function pointer takes an int and returns void signal returns a function pointer this function pointer takes an intand returns avoid` Thatâ€™s where the last int comes in. You can use the spiral rule to make sense of such declarations, or the program cdecl(1). è¿™é‡Œé¢æåˆ°äº† the spiral rule è¿™æ˜¯ä¸€ä¸ªç”¨äºè§£æ C è¯­è¨€ä¸­å£°æ˜ (declaration) çš„æ–¹æ³•ï¼›å¦å¤–è¿˜æåˆ°äº† cdecl è¿™ä¸€ç¨‹åºï¼Œå®ƒä¹Ÿæœ‰ç±»ä¼¼çš„ä½œç”¨ï¼Œå¯ä»¥ä½¿ç”¨è‹±æ–‡è¿›è¡Œå£°æ˜æˆ–è€…è§£é‡Šã€‚ Find the leftmost identifier and work your way out, remembering that [] and () bind before *; IOW, *a[] is an array of pointers, (*a)[] is a pointer to an array, *f() is a function returning a pointer, and (*f)() is a pointer to a function. Thus, void ( *signal(int sig, void (*handler)(int)) ) (int); breaks down as signal -- signal signal( ) -- is a function signal( sig ) -- with a parameter named sig signal(int sig, ) -- of type int signal(int sig, handler ) -- and a parameter named handler signal(int sig, *handler ) -- which is a pointer signal(int sig, (*handler)( )) ) -- to a function signal(int sig, (*handler)(int)) ) -- taking an int parameter signal(int sig, void (*handler)(int)) ) -- and returning void *signal(int sig, void (*handler)(int)) ) -- returning a pointer ( *signal(int sig, void (*handler)(int)) )( ) -- to a function ( *signal(int sig, void (*handler)(int)) )(int) -- taking an int parameter void ( *signal(int sig, void (*handler)(int)) )(int); -- and returning void è¿™ä¸€å›ç­”å¼ºè°ƒäº† * å’Œ []ã€() ä¼˜å…ˆçº§çš„å…³ç³»ï¼Œè¿™åœ¨åˆ¤æ–­æ•°ç»„æŒ‡é’ˆã€å‡½æ•°æŒ‡é’ˆæ—¶æ˜¯ä¸ªéå¸¸å¥½ç”¨çš„æŠ€å·§ã€‚ Rob Pike äº 2009/10/30 çš„ Golang Talk [PDF] David Brailsford æ•™æˆè§£è¯´å½±ç‰‡ Essentials: Pointer Power! - Computerphile [YouTube] ","date":"2024-01-14","objectID":"/posts/c-pointer/:1:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"é˜…è¯» C è¯­è¨€è§„æ ¼ä¹¦ ä¸€æ‰‹èµ„æ–™çš„é‡è¦æ€§æ¯‹åº¸ç½®ç–‘ï¼Œå¯¹äº C è¯­è¨€ä¸­çš„æ ¸å¿ƒæ¦‚å¿µ æŒ‡é’ˆï¼Œå€ŸåŠ©å®˜æ–¹è§„æ ¼ä¹¦æ¸…æ™°æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ã€‚ C99 [6.2.5] Types An array type of unknown size is an incomplete type. It is completed, for an identifier of that type, by specifying the size in a later declaration (with internal or external linkage). A structure or union type of unknown content is an incomplete type. It is completed, for all declarations of that type, by declaring the same structure or union tag with its defining content later in the same scope. incomplete type å’Œ linkage é…åˆå¯ä»¥è¿›è¡Œ forward declarationï¼Œå¦‚æœæ­é… pointer åˆ™å¯ä»¥è¿›ä¸€æ­¥ï¼Œåœ¨æ— éœ€çŸ¥é“ object å†…éƒ¨ç»†èŠ‚å³å¯è¿›è¡Œç¨‹åºå¼€å‘ã€‚ Array, function, and pointer types are collectively called derived declarator types. A declarator type derivation from a type T is the construction of a derived declarator type from T by the application of an array-type, a function-type, or a pointer-type derivation to T. æ³¨æ„ derived declarator types è¡¨ç¤ºè¡ç”Ÿçš„å£°æ˜ç±»å‹ï¼Œå› ä¸º array, function, pointer æœ¬è´¨éƒ½æ˜¯åœ°å€ï¼Œè€Œå®ƒä»¬çš„ç±»å‹éƒ½æ˜¯ç”±å…¶å®ƒç±»å‹è¡ç”Ÿè€Œæ¥çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨è¿™äº›æ‰€è°“çš„ derived declarator types æ¥æå‰å£°æ˜ objectï¼Œè¡¨ç¤ºåœ¨æŸä¸ªåœ°å€ä¼šå­˜å‚¨ä¸€ä¸ª objectï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¿™äº›ç±»å‹è¢«è§„æ ¼ä¹¦å®šä¹‰ä¸º derived declarator typesã€‚ lvalue: Locator value å±é™© C è¯­è¨€é‡Œåªæœ‰ call by value ","date":"2024-01-14","objectID":"/posts/c-pointer/:2:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"void \u0026 void * C89 ä¹‹å‰ï¼Œå‡½æ•°å¦‚æœæ²¡æœ‰æ ‡æ³¨è¿”å›ç±»å‹ï¼Œåˆ™é»˜è®¤è¿”å›ç±»å‹ intï¼Œè¿”å›å€¼ 0ã€‚ä½†ç”±äºè¿™æ ·æ—¢å¯ä»¥è¡¨ç¤ºè¿”å›å€¼ä¸é‡è¦ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºè¿”å›å€¼ä¸º 0ï¼Œè¿™ä¼šé€ æˆæ­§ä¹‰ï¼Œæ‰€ä»¥å¼•è¿›äº† voidã€‚ void * åªèƒ½è¡¨ç¤ºåœ°å€ï¼Œè€Œä¸èƒ½å¯¹æ‰€æŒ‡å‘çš„åœ°å€åŒºåŸŸçš„å†…å®¹è¿›è¡Œæ“ä½œã€‚å› ä¸ºé€šè¿‡ void * æ— æ³•çŸ¥é“æ‰€æŒ‡å‘åŒºåŸŸçš„ sizeï¼Œæ‰€ä»¥æ— æ³•å¯¹åŒºåŸŸçš„å†…å®¹è¿›è¡Œæ“ä½œï¼Œå¿…é¡»å¯¹ void * è¿›è¡Œ æ˜¾ç¤ºè½¬æ¢ æ‰èƒ½æ“ä½œæŒ‡å‘çš„å†…å®¹ã€‚ï¼ˆé™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºæŒ‡é’ˆæœ¬èº«çš„æ“ä½œï¼Œvoid * ä¸ char * æ˜¯ç­‰ä»·çš„ï¼Œå³å¯¹äº +/- 1 è¿™ç±»çš„æ“ä½œï¼ŒäºŒè€…çš„åç§»é‡æ˜¯ä¸€è‡´çš„ï¼‰ ","date":"2024-01-14","objectID":"/posts/c-pointer/:3:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"Alignment è¿™éƒ¨åˆ†åŸæ–‡æè¿°ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œ2-byte aligned å›¾ç¤ºå¦‚ä¸‹ï¼š å¦‚æœæ˜¯ 2-byte aligned ä¸”æ˜¯ little-endian çš„å¤„ç†å™¨ï¼Œå¯¹äºå·¦è¾¹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ *(uint16_t *) ptrï¼Œä½†å¯¹äºå³è¾¹å°±æ— æ³•è¿™æ ·ï¼ˆä¸ç¬¦åˆ alignmentï¼‰ï¼š /* may receive wrong value if ptr is not 2-byte aligned */ uint16_t value = *(uint16_t *) ptr; /* portable way of reading a little-endian value */ uint16_t value = *(uint8_t *) ptr | ((*(uint8_t *) (ptr + 1)) \u003c\u003c 8); å› ä¸ºå†…å­˜å¯»å€çš„æœ€å°ç²’åº¦æ˜¯ Byteï¼Œæ‰€ä»¥ä½¿ç”¨ (uint_8 *) ä¸éœ€è¦æ‹…å¿ƒ alignment çš„é—®é¢˜ã€‚åŸæ–‡å¹¶æ²¡æœ‰ç»™å‡º 32-bit aligned çš„ portable wayï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸‹ï¼š /* may receive wrong value if ptr is not 2-byte aligned */ uint32_t value = *(uint32_t *) ptr; /* portable way of reading a little-endian value */ uint32_t value = *(uint8_t *) ptr | ((*(uint8_t *) (ptr + 1)) \u003c\u003c 8) | ((*(uint8_t *) (ptr + 2)) \u003c\u003c 16) | ((*(uint8_t *) (ptr + 3)) \u003c\u003c 24); ä¿¡æ¯ The Lost Art of Structure Packing ","date":"2024-01-14","objectID":"/posts/c-pointer/:3:1","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"è§„æ ¼ä¹¦ä¸­çš„ Pointer C99 [6.3.2.3] Pointers A pointer to a function of one type may be converted to a pointer to a function of another type and back again; the result shall compare equal to the original pointer. Ifaconverted pointer is used to call a function whose type is not compatible with the pointed-to type, the behavior is undefined. C11 [6.3.2.3] Pointers A pointer to a function of one type may be converted to a pointer to a function of another type and back again; the result shall compare equal to the original pointer. If a converted pointer is used to call a function whose type is not compatible with the referenced type, the behavior is undefined. C99 å’Œ C11 éƒ½ä¸ä¿è¯ pointers (whose type is not compatible with the pointed-to / referenced type) ä¹‹é—´çš„è½¬æ¢æ˜¯æ­£ç¡®çš„ã€‚ ","date":"2024-01-14","objectID":"/posts/c-pointer/:3:2","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"Pointers vs. Arrays C99 6.3.2.1 Except when it is the operand of the sizeof operator or the unary \u0026 operator, or is a string literal used to initialize an array, an expression that has type â€˜â€˜array of typeâ€™â€™ is converted to an expression with type â€˜â€˜pointer to typeâ€™â€™ that points to the initial element of the array object and is not an lvalue. Array åªæœ‰åœ¨è¡¨ç¤ºå…¶è‡ªèº«ä¸ºæ•°ç»„æ—¶æ‰ä¸ä¼šè¢« converted to Pointerï¼Œä¾‹å¦‚ // case 1: extern declaration of array extern char a[]; // case 2: defintion of array char a[10]; // case 3: size of array sizeof(a); // case 4: address of array \u0026a åœ¨å…¶ä»–æƒ…å†µåˆ™ä¼šå€ converted to Pointerï¼Œè¿™æ—¶ Array å¯ä»¥å’Œ Pointer äº’æ¢è¿›è¡Œè¡¨ç¤ºæˆ–æ“ä½œï¼Œä¾‹å¦‚ // case 1: function parameter void func(char a[]); void func(char *a); // case 2: operation in expression char c = a[2]; char c = *(a + 2); è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¯¹äºä¸€ä¸ª Array aï¼Œ\u0026a å’Œ \u0026a[0] å€¼è™½ç„¶ç›¸åŒï¼Œä½† \u0026a + 1 å’Œ \u0026a[0] + 1 çš„ç»“æœå¤§éƒ¨åˆ†æ—¶å€™æ˜¯å¤§ä¸ç›¸åŒçš„ï¼Œè¿™ä»¶äº‹ä¹ä¸€çœ‹æ˜¯éå¸¸æƒŠäººçš„ï¼Œä½†å…¶å®ä¸ç„¶ï¼Œåœ¨äº†è§£ Array å’Œ Pointer ä¹‹åï¼Œä¹Ÿå°±é‚£ä¹ˆä¸€å›äº‹ ğŸ¤£ ","date":"2024-01-14","objectID":"/posts/c-pointer/:4:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"GDB å®ä½œ char a[10]; int main() { return 0; }; æˆ‘ä»¬ä»¥ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œé€šè¿‡ GDB æ¥å¯¹ Array å’Œ Pointer è¿›è¡Œæ·±å…¥ç ”ç©¶ï¼š (gdb) print \u0026a $1 = (char (*)[10]) 0x555555558018 \u003ca\u003e (gdb) print \u0026a[0] $2 = 0x555555558018 \u003ca\u003e \"\" ç¬¦åˆé¢„æœŸï¼Œ\u0026a å’Œ \u0026a[0] å¾—åˆ°çš„å€¼æ˜¯ç›¸åŒçš„ï¼Œè™½ç„¶ç±»å‹çœ‹èµ·æ¥ä¸åŒï¼Œä½†æ˜¯ç°åœ¨å…ˆæ”¾åˆ°ä¸€è¾¹ã€‚ (gdb) print \u0026a + 1 $3 = (char (*)[10]) 0x555555558022 (gdb) print \u0026a[0] + 1 $4 = 0x555555558019 \u003ca+1\u003e \"\" (gdb) print a + 1 $5 = 0x555555558019 \u003ca+1\u003e \"\" Oh! æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„ \u0026a + 1 ä¸ \u0026a[0] + 1 ç»“æœå¹¶ä¸ç›¸åŒï¼ˆè€Œ \u0026a[0] + 1 å’Œ a + 1 ç»“æœç›¸åŒæ­£æ˜¯æˆ‘ä»¬æ‰€æåˆ°çš„ Array é€€åŒ–ä¸º Pointerï¼‰ï¼Œè™½ç„¶å¦‚æ­¤ï¼ŒGDB æ‰€ç»™çš„ä¿¡æ¯æç¤ºæˆ‘ä»¬å¯èƒ½æ˜¯äºŒè€… Pointer ç±»å‹ä¸ç›¸åŒå¯¼è‡´çš„ã€‚ (gdb) whatis \u0026a type = char (*)[10] (gdb) whatis \u0026a[0] type = char * Great! æœç„¶æ˜¯ Pointer ç±»å‹ä¸åŒå¯¼è‡´çš„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° \u0026a çš„ç±»å‹æ˜¯ char (*)[10] ä¸€ä¸ªæŒ‡å‘ Array çš„æŒ‡é’ˆï¼Œ\u0026a[0] åˆ™æ˜¯ char *ã€‚æ‰€ä»¥è¿™ä¸¤ä¸ª Pointer åœ¨è¿›è¡Œ +/- è¿ç®—æ—¶çš„åç§»é‡æ˜¯ä¸åŒçš„ï¼Œ\u0026a[0] çš„åç§»é‡ä¸º sizeof(a[0]) å³ä¸€ä¸ª char çš„å®½åº¦ ($0x18 + 1 = 0x19$)ï¼Œè€Œ \u0026a çš„åç§»é‡ä¸º sizeof(a) å³ 10 ä¸ª char çš„å®½åº¦ ($0x18 + 10 = 0x22$)ã€‚ è­¦å‘Š åœ¨ GDB ä¸­ä½¿ç”¨ memcpy åç›´æ¥æ‰“å°å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š (gdb) p memcpy(calendar, b, sizeof(b[0])) 'memcpy' has unknown return type; cast the call to its declared return type åªéœ€åŠ å…¥ void * è¿›è¡Œç±»å‹è½¬æ¢å³å¯è§£å†³è¯¥é—®é¢˜ï¼š (gdb) p (void *) memcpy(calendar, b, sizeof(b[0])) ... æŠ€å·§ é‡åˆ°é™Œç”Ÿçš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ man æ¥å¿«é€ŸæŸ¥é˜…æ‰‹å†Œï¼Œä¾‹å¦‚ man strcpy, man strcatï¼Œæ‰‹å†Œå¯ä»¥è®©æˆ‘ä»¬å¿«é€ŸæŸ¥è¯¢å‡½æ•°çš„ä¸€äº›ä¿¡æ¯ï¼Œä»è€Œè¿›å…¥å®ä½œã€‚ ","date":"2024-01-14","objectID":"/posts/c-pointer/:4:1","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"Runtime Environment æ ¹æ® Zero size arrays in C ï¼ŒåŸæ–‡ä¸­çš„ char (*argv)[0] åœ¨å‡½æ•°å‚æ•°ä¼ é€’æ—¶ä¼šè¢«è½¬æ¢æˆ char **argvã€‚è€Œä¸ºä»€ä¹ˆåœ¨æŸ¥çœ‹åœ°å€ ((char **) argv)[0] å¼€å§‹çš„è¿ç»­ 4 ä¸ª char * å†…å®¹æ—¶ï¼Œä¼šæ‰“å°å‡º envp ä¸­çš„å†…å®¹ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹çš„è¿›å…¥ main å‡½æ•°æ—¶çš„æ ˆå¸ƒå±€ï¼š argv å’Œ envp æ‰€æŒ‡çš„å­—ç¬¦ä¸²åŒºåŸŸæ˜¯ç›¸è¿çš„ï¼Œæ‰€ä»¥åœ¨è¶Šè¿‡ argv å­—ç¬¦ä¸²åŒºåŸŸçš„è¾¹ç•Œåï¼Œä¼šç»§ç»­æ‰“å° envp åŒºåŸŸçš„å­—ç¬¦ä¸²ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ‰“å°å‡ºçš„å­—ç¬¦ä¸²ä¹‹é—´åœ°å€å¢é•¿äºå…¶é•¿åº¦ç›¸åŒ¹é…ã€‚æ‰€ä»¥ä»åœ°å€ (char **) argv å¼€å§‹çš„åŒºåŸŸåªæ˜¯ä¸€ä¸ª char * æ•°ç»„ï¼Œä½¿ç”¨ x/4s å¯¹è¿™éƒ¨åˆ†è¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼æ‰“å°æ˜¾ç„¶æ˜¯çœ‹ä¸æ‡‚çš„ã€‚ æ³¨æ„ argv å’Œ envp éƒ½æ˜¯åœ¨ shell è¿›è¡Œ exec ç³»ç»Ÿè°ƒç”¨ä¹‹å‰è¿›è¡Œä¼ é€’ï¼ˆäº‹å®ä¸Šæ˜¯ä»¥ arguments çš„å½¢å¼ä¼ é€’ç»™ execï¼‰ man 2 execve int execve(const char *pathname, char *const argv[], char *const envp[]); execve å®é™…ä¸Šåœ¨å†…éƒ¨è°ƒç”¨äº† forkï¼Œæ‰€ä»¥ argv å’Œ envp çš„ä¼ é€’æ˜¯åœ¨ fork ä¹‹å‰ã€‚ï¼ˆè®¾æƒ³å¦‚æœæ˜¯åœ¨ fork ä¹‹åä¼ é€’ï¼Œå¯èƒ½ä¼šå‡ºç° fork å child process å…ˆæ‰§è¡Œï¼Œè¿™ç§æƒ…å†µ child process æ˜¾ç„¶æ— æ³•è·å¾—è¿™äº›è¢«ä¼ é€’çš„ä¿¡æ¯ï¼‰ æ³¨æ„åˆ° execve åªä¼ é€’äº† argv è€Œæ²¡æœ‰ä¼ é€’ argcï¼Œè¿™ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œargc æ˜¯ argv çš„è®¡æ•°ï¼Œåªéœ€ argv å³å¯æ¨å¯¼å‡º argcã€‚ ","date":"2024-01-14","objectID":"/posts/c-pointer/:4:2","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"Function Pointer å±é™© ä¸ Array ç±»ä¼¼ï¼ŒFunction åªæœ‰åœ¨è¡¨ç¤ºè‡ªèº«æ—¶ä¸ä¼šè¢« converted to Function Pointer (å³é™¤ sizeof å’Œ \u0026 è¿ç®—ä¹‹å¤–)ï¼Œå…¶å®ƒæƒ…å†µã€è¿ç®—æ—¶éƒ½ä¼šè¢« convert to Function Pointer ç†è§£ C è¯­è¨€ä¸­çš„ Function ä»¥åŠ Function Pointer çš„æ ¸å¿ƒåœ¨äºç†è§£ Function Designator è¿™ä¸ªæ¦‚å¿µï¼Œå‡½æ•°åå­—å¿…ç„¶æ˜¯ Function Designatorï¼Œå…¶å®ƒçš„ designator åˆ™æ˜¯æ ¹æ®ä»¥ä¸‹ä¸¤æ¡è§„åˆ™è¿›è¡Œæ¨å¯¼å¾—æ¥ã€‚ C99 [ 6.3.2.1 ] A function designator is an expression that has function type. Except when it is the operand of the sizeof operator or the unary \u0026 operator, a function designator with type â€˜â€˜function returning typeâ€™â€™ is converted to an expression that has type â€˜â€˜pointer to function returning typeâ€™â€™. C99 [6.5.3.2-4] The unary * operator denotes indirection. If the operand points to a function, the result is a function designator. ","date":"2024-01-14","objectID":"/posts/c-pointer/:5:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"æŒ‡é’ˆçš„ä¿®é¥°ç¬¦ æŒ‡é’ˆ p è‡ªèº«ä¸èƒ½å˜æ›´ï¼Œæ—¢ä¸èƒ½æ”¹å˜ p è‡ªèº«æ‰€å­˜å‚¨çš„åœ°å€ã€‚const åœ¨ * ä¹‹åï¼š char * const p; æŒ‡é’ˆ p æ‰€æŒ‡å‘çš„å†…å®¹ä¸èƒ½å˜æ›´ï¼Œå³ä¸èƒ½é€šè¿‡ p æ¥æ›´æ”¹æ‰€æŒ‡å‘çš„å†…å®¹ã€‚const åœ¨ * ä¹‹å‰ï¼š const char * p; char const * p; æŒ‡é’ˆ p è‡ªèº«äºæ‰€æŒ‡å‘çš„å†…å®¹éƒ½ä¸èƒ½å˜æ›´ï¼š const char * const p; char const * const p; ","date":"2024-01-14","objectID":"/posts/c-pointer/:6:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"å­—ç¬¦ä¸² å¯¹äºå‡½æ•°å†…éƒ¨çš„ char *p = \"hello\"; char p[] = \"hello\"; è¿™ä¸¤ä¸ªæ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸º string literals æ˜¯å¿…é¡»æ”¾åœ¨ â€œstatic storageâ€ ä¸­ï¼Œè€Œ char p[] åˆ™è¡¨ç¤ºå°†èµ„æ–™åˆ†é…åœ¨ stack å…§ï¼Œæ‰€ä»¥è¿™ä¼šé€ æˆç¼–è¯‘å™¨éšå¼åœ°ç”Ÿæˆé¢å¤–ä»£ç ï¼Œåœ¨æ‰§è¡Œæ—¶ (runtime) å°† string literals ä» static storage æ‹·è´åˆ° stack ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶ return p ä¼šé€ æˆ UBã€‚è€Œ char *p çš„æƒ…å½¢ä¸åŒï¼Œæ­¤æ—¶ p åªæ˜¯ä¸€ä¸ªæŒ‡å‘ static storage çš„æŒ‡é’ˆï¼Œè¿›è¡Œ return p æ˜¯åˆæ³•çš„ã€‚ åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œnull pointer å¹¶ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨ glibc ä¸­å­—ç¬¦ç›¸å…³çš„å¤§éƒ¨åˆ†å‡½æ•°ä¹Ÿä¸ä¼šå¯¹ null pointer è¿›è¡Œç‰¹åˆ¤ (ç‰¹åˆ¤ä¼šå¢åŠ åˆ†æ”¯ï¼Œä»è€Œå½±å“ç¨‹åºæ•ˆèƒ½)ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨è¿™äº›å‡½æ•°æ—¶éœ€è¦ç”¨æˆ·è‡ªå·±åˆ¤æ–­æ˜¯å¦ä¸º null pointerï¼Œå¦åˆ™ä¼šé€ æˆ UBã€‚ ","date":"2024-01-14","objectID":"/posts/c-pointer/:7:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"Linus çš„â€œæ•™å¯¼â€ Linus è¦ªè‡ªæ•™ä½  C èªè¨€ array argument çš„ä½¿ç”¨ because array arguments in C donâ€™t actually exist. Sadly, compilers accept it for various bad historical reasons, and silently turn it into just a pointer argument. There are arguments for them, but they are from weak minds. The â€œarray as function argumentâ€ syntax is occasionally useful (particularly for the multi-dimensional array case), so I very much understand why it exists, I just think that in the kernel weâ€™d be better off with the rule that itâ€™s against our coding practices. array argument åº”è¯¥åªç”¨äºå¤šç»´æ•°ç»„ (multi-dimensional arrays) çš„æƒ…å½¢ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä½¿ç”¨ä¸‹æ ‡è¡¨ç¤ºæ—¶ offset æ˜¯æ­£ç¡®çš„ï¼Œä½†å¯¹äºä¸€ç»´æ•°ç»„åˆ™ä¸åº”è¯¥ä½¿ç”¨æ•°ç»„è¡¨ç¤ºä½œä¸ºå‡½æ•°å‚æ•°ï¼Œå› ä¸ºè¿™ä¼šå¯¹å‡½æ•°ä½“å†…çš„ sizeof ç”¨æ³•è¯¯è§£ (ä»¥ä¸ºä¼šè·å¾—æ•°ç»„çš„ sizeï¼Œå®é™…ä¸Šè·å¾—çš„åªæ˜¯æŒ‡é’ˆçš„ size)ã€‚ æŠ€å·§ ä¸€ä¸ªå¸¸ç”¨äºè®¡ç®—æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°çš„å®ï¼š #define ARRAY_SIZE(x) (sizeof(x) / sizeof((x)[0])) è¿™ä¸ªå®éå¸¸æœ‰ç”¨ï¼Œxv6 ä¸­ä½¿ç”¨åˆ°äº†è¿™ä¸ªå®ã€‚ ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨æ—¶å¿…é¡»ä¿è¯ x æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯å‡½æ•°å‚æ•°ä¸­ç”±æ•°ç»„é€€åŒ–è€Œæ¥çš„æŒ‡é’ˆï¼Œä»¥åŠä¿è¯æ•°ç»„å¿…é¡»è‡³å°‘æ‹¥æœ‰ä¸€ä¸ªå…ƒç´ çš„é•¿åº¦ (è¿™ä¸ªå¾ˆå®¹æ˜“æ»¡è¶³ï¼Œæ¯•ç«Ÿ x[0] ç¼–è¯‘å™¨ä¼šæŠ›å‡ºè­¦å‘Š)ã€‚ ","date":"2024-01-14","objectID":"/posts/c-pointer/:8:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Linux Kernel Internals"],"content":"Lvalue \u0026 Rvalue Lvalue: locator value Rvalue: Read-only value C99 6.3.2.1 footnote The name â€œlvalueâ€ comes originally from the assignment expression E1 = E2, in which the left operand E1 is required to be a (modifiable) lvalue. It is perhaps better considered as representing an object â€œlocator valueâ€. What is sometimes called â€œrvalueâ€ is in this International Standard described as the â€œvalue of an expressionâ€. An obvious example of an lvalue is an identifier of an object. As a further example, if E is a unary expression that is a pointer to an object, *E is an lvalue that designates the object to which E points. å³åœ¨ C è¯­è¨€ä¸­ lvalue æ˜¯å¿…é¡»èƒ½åœ¨å†…å­˜ (memory) ä¸­å¯ä»¥å®šä½ (locator) çš„ä¸œè¥¿ï¼Œå› ä¸ºå¯ä»¥å®šä½ (locator) æ‰€ä»¥æ‰å¯ä»¥åœ¨è¡¨è¾¾å¼å·¦è¾¹ä»è€Œä¿®æ”¹å€¼ã€‚æƒ³åƒä¸€ä¸‹ï¼Œåœ¨ C è¯­è¨€ä¸­ä¿®æ”¹ä¸€ä¸ªå¸¸æ•°çš„å€¼æ˜¾ç„¶æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºå¸¸æ•°æ— æ³•åœ¨å†…å­˜ (memory) å®šä½ (locator) æ‰€ä»¥å¸¸æ•°åœ¨ C è¯­è¨€ä¸­ä¸æ˜¯ lvalueã€‚C è¯­è¨€ä¸­é™¤äº† lvalue ä¹‹å¤–çš„ value éƒ½æ˜¯ rvalue (è¿™ä¸ C++ æœ‰äº›ä¸åŒï¼ŒC++ çš„ lvalue å’Œ rvalue çš„å®šä¹‰è¯·å‚è€ƒ C++ çš„è§„æ ¼ä¹¦)ã€‚ ","date":"2024-01-14","objectID":"/posts/c-pointer/:9:0","tags":["Sysprog","C"],"title":"ä½ æ‰€ä¸çŸ¥é“çš„ C è¯­è¨€: æŒ‡é’ˆç¯‡","uri":"/posts/c-pointer/"},{"categories":["Network"],"content":" æ‘˜è¦ ä¹‹å‰å­¦æ ¡çš„è®¡ç½‘ç†è®ºè¯¾å­¦å¾—äº‘é‡Œé›¾é‡Œï¼Œå¯¹äºç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚å¹¶æ²¡æœ‰æ¸…æ™°çš„é€»è¾‘æ¡†æ¶ï¼Œè€Œè¿™å­¦æœŸçš„è®¡ç½‘è¯¾è®¾å†…å®¹ä¸ºæ•°æ®é“¾è·¯å±‚å’Œç½‘ç»œå±‚çš„ç›¸å…³å†…å®¹ï¼Œå†™èµ·æ¥è¿˜æ˜¯äº‘é‡Œé›¾é‡Œã€‚è™½ç„¶æœ€ç»ˆè‰°éš¾åœ°æŠŠè¯¾è®¾æ°´è¿‡å»äº†ï¼Œä½†æ˜¯ä¸ªäººè®¤ä¸ºç½‘ç»œå¯¹äº CSer éå¸¸é‡è¦ï¼Œç‰¹åˆ«æ˜¯åœ¨äº’è”ç½‘è¡Œä¸šï¼Œç½‘ç»œçŸ¥è¯†æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ æ‰€ä»¥å†³å®šå¯’å‡é‡å­¦è®¡ç½‘ï¼Œäºæ˜¯åœ¨ HackMD ä¸Šå†²æµªå¯»æ‰¾ç›¸å…³èµ„æ–™ã€‚ç„¶åå‘ç°äº†è¿™ç¯‡ç¬”è®° 110-1 è¨ˆç®—æ©Ÿç¶²è·¯ (æ¸…å¤§é–‹æ”¾å¼èª²ç¨‹)ï¼Œé‡Œé¢æåˆ°æ¸…å¤§è®¡ç½‘ä¸»è¦ä»‹ç» L2 ~ L4 ä¸€äº›è‘—åçš„åè®®å’Œç®—æ³•ï¼Œè¿™å®Œç¾ç¬¦åˆä¸ªäººçš„éœ€æ±‚ï¼Œè€Œä¸”è¯¥ç¯‡è¯¥ç¬”è¿˜è¡¥å……äº†ä¸€äº›é¢å¤–çš„å†…å®¹ï¼Œä¾‹å¦‚ IPv6ï¼Œæ‰€ä»¥å½“å³å‡†å¤‡æ­é…è¿™ç¯‡ç¬”è®°æ¥å­¦ä¹ æ¸…å¤§çš„è®¡ç®—æœºç½‘ç»œæ¦‚è®ºã€‚ ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:0:0","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["Network"],"content":"æ¸…å¤§è®¡ç®—æœºç½‘ç»œæ¦‚è®º æœ¬èª²ç¨‹å°‡ä»‹ç´¹è¨ˆç®—æ©Ÿç¶²è·¯çš„åŸºæœ¬é‹ä½œåŸç†èˆ‡æ¨™æº–çš„ç¶²è·¯ä¸ƒå±¤çµæ§‹,ç”±æ·ºå…¥æ·±,å¯ä»¥è®“æˆ‘å€‘å°æ–¼è¨ˆç®—æ©Ÿç¶²è·¯çš„é‹ä½œæœ‰æœ€åŸºæœ¬çš„èªè­˜,æœ¬èª²ç¨‹é‚„æœƒä»‹ç´¹å…¨çƒå»ºç½®æœ€å¤šçš„æœ‰ç·šç¶²è·¯â”€â”€IEEE 802.3 Ethernet çš„åŸºæœ¬é‹ä½œåŸç†, é‚„æœ‰å…¨çƒå»ºç½®æœ€å¤šçš„ç„¡ç·šå€åŸŸç¶²è·¯â”€â”€IEEE 802.11 Wireless LAN çš„åŸºæœ¬é‹ä½œåŸç†, æƒ³çŸ¥é“ç¶²è·¯äº¤æ›æ©Ÿ(switches) æ˜¯å¦‚ä½•é‹ä½œçš„å— ? æƒ³çŸ¥é“ç¶²éš›ç¶²è·¯æœ€é‡è¦ä¹Ÿæœ€é—œéµçš„é€šè¨Šå”è­° â”€â”€ TCP/IP æ˜¯å¦‚ä½•é‹ä½œçš„å— ? æƒ³çŸ¥é“ç¶²éš›ç¶²è·¯æœ€é‡è¦çš„è·¯ç”±å™¨ (Routers) æ˜¯å¦‚ä½•é‹ä½œçš„å— ? åœ¨æœ¬èª²ç¨‹è£¡æ‚¨éƒ½å¯ä»¥å­¸åˆ°é€™äº›é‡è¦çš„åŸºæœ¬çŸ¥è­˜ã€‚ å¼€è¯¾å­¦æ ¡ è¯¾ç¨‹ä¸»é¡µ è¯¾ç¨‹èµ„æ–™ è¯¾ç¨‹å½±ç‰‡ åœ‹ç«‹æ¸…è¯å¤§å­¸ è¨ˆç®—æ©Ÿç¶²è·¯æ¦‚è«– èª²ç¨‹è¬›ç¾©èˆ‡ç·´ç¿’é¡Œ Youtube ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:1:0","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["Network"],"content":"L1 Foundation é‡ç‚¹æç¤ºä¸ç»ƒä¹  ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:2:0","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["Network"],"content":"Applications Foundation - 5 è¿›è¡Œ 1 æ¬¡ URL request éœ€è¦è¿›è¡Œ 17 æ¬¡çš„è®¯æ¯äº¤æ¢ï¼š 6 æ¬¡è®¯æ¯äº¤æ¢ç”¨äºæŸ¥è¯¢ URL å¯¹åº”çš„ IP Address 3 æ¬¡è®¯æ¯äº¤æ¢ç”¨äºå»ºç«‹ TCP è¿æ¥ï¼ˆTCP çš„ 3 æ¬¡æ¡æ‰‹ï¼‰ 4 æ¬¡è®¯æ¯äº¤æ¢ç”¨äº HTTP åè®®çš„è¯·æ±‚å’Œå›å¤ 4 æ¬¡è®¯æ¯äº¤æ¢ç”¨äºå…³é—­ TCP è¿æ¥ï¼ˆTCP çš„ 4 æ¬¡æ¡æ‰‹ï¼‰ ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:2:1","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["Network"],"content":"Network Connectivity Foundation - 8 äº¤æ¢æœº (Switches) å¯ä»¥åˆ†ä¸ºå¾ˆå¤šå±‚çº§ï¼Œå³å¯ä»¥æœ‰ä¸åŒå±‚çº§çš„äº¤æ¢æœºï¼Œä¾‹å¦‚ L2 å±‚çš„äº¤æ¢æœºï¼ŒL3 å±‚çš„äº¤æ¢æœºä»¥åŠ L4 å±‚çš„äº¤æ¢æœºã€‚å¦‚ä½•åˆ¤æ–­äº¤æ¢æœºæ˜¯å“ªä¸ªå±‚çº§ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦æ ¹æ®äº¤æ¢æœºæ‰€å¤„ç†çš„è®¯æ¯ï¼ŒL2 å±‚äº¤æ¢æœºå¤„ç†çš„æ˜¯ MAC Addressï¼ŒL3 å±‚äº¤æ¢æœºå¤„ç†çš„æ˜¯ IP Addressï¼Œè€Œ L4 å±‚äº¤æ¢æœºå¤„ç†çš„æ˜¯ TCP æˆ–è€… UDP ç›¸å…³çš„è®¯æ¯ã€‚ äº¤æ¢æœº (Switches) ç”¨äºç½‘ç»œ (Network) å†…éƒ¨çš„è¿æ¥ï¼Œè·¯ç”± (Router) ç”¨äºè¿æ¥ä¸åŒçš„ç½‘ç»œ (Network)ï¼Œä»è€Œå½¢æˆ Internetworkã€‚ åœ°å€ (Address)ï¼Œå¯¹äºç½‘å¡æ¥è¯´æ˜¯æŒ‡ MAC Addressï¼Œå¯¹äºä¸»æœºæ¥è¯´æ˜¯æŒ‡ IP Addressã€‚Host-to-Host connectivity æ˜¯æŒ‡ä¸åŒç½‘ç»œ (Network) çš„ä¸»æœºï¼Œå³ä½äº Internetwork çš„ä¸åŒä¸»æœºä¹‹é—´ï¼Œè¿›è¡Œè¿æ¥ã€‚ ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:2:2","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["Network"],"content":"Network Architecture Foundation - 22 Physical Layer: å¦‚ä½•å°†åŸå§‹èµ„æ–™åœ¨ link ä¸Šä¼ è¾“ï¼Œä¾‹å¦‚ä¸åŒä»‹è´¨ã€ä¿¡æ¯ç¼–ç ã€‚(P25) Data Link Layer: åœ¨ Physical Layer åŸºç¡€ä¸Šï¼Œå¦‚ä½•å°† frame ä¼ ç»™ç›´æ¥ç›¸è¿çš„ä¸»æœºæˆ–è®¾å¤‡ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ Media Access Control Protocol è§£å†³ Multiple access äº§ç”Ÿçš„ç¢°æ’é—®é¢˜ã€‚è¿™ä¸€å±‚äº¤æ¢çš„æ•°æ®è¢«ç§°ä¸º frameã€‚(P26) Network Layer: åœ¨ Data Link Layer åŸºç¡€ä¸Šï¼Œå¦‚ä½•å°† packet é€šè¿‡ Internet é€ç»™ç›®çš„åœ°ä¸»æœºã€‚æ ¸å¿ƒæ˜¯é€šè¿‡ Routing Protocols åŠ¨æ€è½¬å‘ packetã€‚è¿™ä¸€å±‚äº¤æ¢çš„æ•°æ®è¢«ç§°ä¸º packetã€‚(P27) Transport Layer: åœ¨ Network Layer åŸºç¡€ä¸Šï¼Œæä¾›ä¸åŒä¸»æœº processes ä¹‹é—´çš„èµ„æ–™ä¼ é€ã€‚ç”±äº Networkd Layer æ˜¯ä¸»æœºé—´è¿›è¡Œèµ„æ–™ä¼ é€ï¼Œæ‰€ä»¥åœ¨ Transport Layer ä¸è®ºæ˜¯å¯é è¿˜æ˜¯ä¸å¯é çš„ä¼ è¾“åè®®ï¼Œéƒ½å¿…é¡»è¦å®ç°æœ€åŸºæœ¬çš„æœºåˆ¶ï¼šä¸»æœºä¸ process ä¹‹é—´æ•°æ®çš„å¤ç”¨å’Œåˆ†è§£ã€‚è¿™ä¸€å±‚äº¤æ¢çš„æ•°æ®è¢«ç§°ä¸º messageã€‚(P28) æ³¨æ„ Switch ä¸€èˆ¬å¤„äº L2 Layerï¼ŒRouter ä¸€èˆ¬å¤„äº L3 Layerã€‚L4 Layer åŠä»¥ä¸Šçš„ layers é€šå¸¸åªå­˜åœ¨äº hostsï¼Œswitches å’Œ routers å†…éƒ¨ä¸€èˆ¬ä¸å…·æœ‰è¿™äº› layersã€‚(P29) Internet Architecture çš„å±‚çº§å¹¶ä¸æ˜¯ä¸¥æ ¼çš„ï¼ŒHost å¯ä»¥ç•¥è¿‡ Application Layer è€Œç›´æ¥ä½¿ç”¨ Transport Layerã€Network Layer ä¸­çš„åè®®ã€‚(P30) Internet Architecture çš„æ ¸å¿ƒæ˜¯ IP åè®®ï¼Œå®ƒä½œä¸ºæ²™æ¼å½¢çŠ¶çš„ä¸­å¿ƒä½ç½®ï¼Œä¸ºå¤„äºå…¶ä¸Šå±‚çš„åè®®ä¸å¤„äºå…¶ä¸‹å±‚åè®®ä¹‹é—´æä¾›äº†ä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚(P31) ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:2:3","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["Network"],"content":"Network Performance Foundation - 36 Foundation - 37 Bandwidth: Number of bits per second (P34) Delay å¯ä»¥è¿‘ä¼¼ç†è§£ä¸º Propagation timeã€‚æœ‰æ•ˆåˆ©ç”¨ network çš„æ ‡å¿—æ˜¯åœ¨æ¥æ”¶å¯¹æ–¹çš„å›åº”ä¹‹å‰ï¼Œå‘é€æ–¹ä¼ é€çš„èµ„æ–™å……æ»¡äº† pipeï¼Œå³å‘é€äº† Delay $\\times$ Bandwitdh bits çš„èµ„æ–™é‡ã€‚(P39) Foundation - 40 RTT å¯ä»¥è¿‘ä¼¼ç†è§£ä¸º 2 $\\times$ Propagation timeï¼Œå› ä¸ºä¸€ä¸ªæ¥å›éœ€è¦ä» sender åˆ° recieverï¼Œå†ä» reciever åˆ° senderã€‚ ","date":"2024-01-14","objectID":"/posts/nthu-computer-network/:2:4","tags":["Network"],"title":"\u003cæ¸…å¤§è®¡ç®—æœºç½‘ç»œ\u003e é‡ç‚¹æç¤º","uri":"/posts/nthu-computer-network/"},{"categories":["C"],"content":"C è¯­è¨€è§„æ ¼ä¹¦ Chapter 6 - Language é˜…è¯»è®°å½•ã€‚ ","date":"2024-01-11","objectID":"/posts/c-specification/ch6/:0:0","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 6 ç«  Language","uri":"/posts/c-specification/ch6/"},{"categories":["C"],"content":"6.2 Concepts ","date":"2024-01-11","objectID":"/posts/c-specification/ch6/:1:0","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 6 ç«  Language","uri":"/posts/c-specification/ch6/"},{"categories":["C"],"content":"6.2.2 Linkages of identifiers linkage: external internal none ä¸€ä¸ªæ‹¥æœ‰ file scope å¹¶ä¸”å…³äº object æˆ– function çš„ identifier å£°æ˜ï¼Œå¦‚æœä½¿ç”¨ static ä¿®é¥°ï¼Œåˆ™è¯¥ identifer æœ‰ internal linkageï¼Œe.g. // file scope static int a; static void f(); int main() {} ä¸€ä¸ª scope å†…ä½¿ç”¨ static ä¿®é¥°çš„ identifier å£°æ˜ï¼Œå¦‚æœåœ¨åŒä¸€ scope å†…å·²å­˜åœ¨è¯¥ identifier å£°æ˜ï¼Œåˆ™è¯¥ identifier çš„ linkage å–å†³äºå…ˆå‰çš„ identifier å£°æ˜ã€‚å¦‚æœè¯¥ identifier ä¸å­˜åœ¨å…ˆå‰å£°æ˜æˆ–è€…å…ˆå‰å£°æ˜ no linkageï¼Œåˆ™è¯¥ identifier æ˜¯ external linkageï¼Œe.g. // Example 1 static int a; // a is internal linkage extern int a; // linkage is the same as prior // Example 2 extern int b; // no prior, a is external linkage extern int b; // linkage is the same as prior å¦‚æœä¸€ä¸ª function identifier å£°æ˜æ²¡æœ‰ storage-class ä¿®é¥°ç¬¦ï¼Œåˆ™å…¶ linkage ç­‰ä»·äºåŠ ä¸Š extern ä¿®é¥°çš„å£°æ˜çš„ linkageï¼Œe.g. int func(int a, int b); // equal to `extern int func(int a. int b);` // and then no prior, it is external linkage å¦‚æœä¸€ä¸ª object identifier å£°æ˜æ²¡æœ‰ storage-class ä¿®é¥°ç¬¦ï¼Œä¸”æ‹¥æœ‰ file scopeï¼Œåˆ™å…¶æ‹¥æœ‰ external linkageï¼Œe.g. // file scope int a; // external linkage int main() {} ","date":"2024-01-11","objectID":"/posts/c-specification/ch6/:1:1","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 6 ç«  Language","uri":"/posts/c-specification/ch6/"},{"categories":["C"],"content":"6.5 Expressions Syntax unary-exprssion: postfix-exprssion ++ unary-expression -- unary-expression unary-operator cast-exprssion sizeof unary-expression sizeof ( type-name ) unary-operator: one of \u0026 * + - ~ ! ","date":"2024-01-11","objectID":"/posts/c-specification/ch6/:2:0","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 6 ç«  Language","uri":"/posts/c-specification/ch6/"},{"categories":["C"],"content":"6.5.3 Unary operators æ³¨æ„ C99 [6.2.5] Types There are three real floating types, designated as float, double, and long double. The real floating and complex types are collectively called the floating types. The integer and real floating types are collectively called real types. Integer and floating types are collectively called arithmetic types. A function type describes a function with specified return type. A function type is characterized by its return type and the number and types of its parameters. A function type is said to be derived from its return type, and if its return type is T, the function type is sometimes called â€˜â€˜function returning Tâ€™â€™. The construction of a function type from a return type is called â€˜â€˜function type derivationâ€™â€™. Arithmetic types and pointer types are collectively called scalar types. C99 [6.3.2.1] Lvalues, arrays, and function designators A function designator is an expression that has function type. Except when it is the operand of the sizeof operator or the unary \u0026 operator, a function designator with type â€˜â€˜function returning typeâ€™â€™ is converted to an expression that has type â€˜â€˜pointer to function returning typeâ€™â€™. 6.5.3.1 Prefix increment and decrement operators Constraints å‰ç¼€è‡ªå¢æˆ–è‡ªå‡è¿ç®—ç¬¦çš„æ“ä½œæ•°ï¼Œå¿…é¡»ä¸ºå®æ•° (real types) ç±»å‹ï¼ˆå³ä¸èƒ½æ˜¯å¤æ•°ï¼‰æˆ–è€…æ˜¯æŒ‡é’ˆç±»å‹ï¼Œå¹¶ä¸”å…¶å€¼æ˜¯å¯å˜çš„ã€‚ Semantics ++E ç­‰ä»·äº (E+=1) --E ç­‰ä»·äº (E-=1) 6.5.3.2 Address and indirection operators Constraints \u0026 è¿ç®—ç¬¦çš„æ“ä½œæ•°å¿…é¡»ä¸º function designatorï¼Œ[] æˆ– * çš„è¿ç®—ç»“æœï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸æ˜¯ bit-field å’Œ register ä¿®é¥°çš„å·¦å€¼ã€‚ * è¿ç®—ç¬¦çš„æ“ä½œæ•°å¿…é¡»ä¸ºæŒ‡é’ˆç±»å‹ã€‚ Semantics \u0026*E ç­‰ä»·äº Eï¼Œå³ \u0026 å’Œ * è¢«ç›´æ¥å¿½ç•¥ï¼Œä½†æ˜¯å®ƒä»¬çš„ constraints ä»ç„¶èµ·ä½œç”¨ã€‚æ‰€ä»¥ (\u0026*(void *)0) å¹¶ä¸ä¼šæŠ¥é”™ã€‚ \u0026a[i] ç­‰ä»·äº a + iï¼Œå³å¿½ç•¥äº† \u0026 ä»¥åŠ * (ç”± [] éšå¼æŒ‡ä»£)ã€‚ å…¶å®ƒæƒ…å†µ \u0026 è¿ç®—çš„ç»“æœä¸ºä¸€ä¸ªæŒ‡å‘ object æˆ– function çš„æŒ‡é’ˆã€‚ å¦‚æœ * è¿ç®—ç¬¦çš„æ“ä½œæ•°æ˜¯ä¸€ä¸ªæŒ‡å‘ function çš„æŒ‡é’ˆï¼Œåˆ™ç»“æœä¸ºå¯¹åº”çš„ function designatorã€‚ å¦‚æœ * è¿ç®—ç¬¦çš„æ“ä½œæ•°æ˜¯ä¸€ä¸ªæŒ‡å‘ object çš„æŒ‡é’ˆï¼Œåˆ™ç»“æœä¸ºæŒ‡ç¤ºè¯¥ obejct çš„å·¦å€¼ã€‚ å¦‚æœ * è¿ç®—ç¬¦çš„æ“ä½œæ•°ä¸ºéæ³•å€¼çš„æŒ‡é’ˆï¼Œåˆ™å¯¹è¯¥æŒ‡é’ˆè¿›è¡Œ * è¿ç®—çš„è¡Œä¸ºä¸‰æœªå®šä¹‰çš„ã€‚ 6.5.3.3 Unary arithmetic operators Constraints å•ç›® + æˆ– - è¿ç®—ç¬¦çš„æ“ä½œæ•°å¿…é¡»ä¸ºç®—æ•°ç±»å‹ (arithmetic type)ï¼Œ~ è¿ç®—ç¬¦çš„æ“ä½œæ•°å¿…é¡»ä¸ºæ•´æ•°ç±»å‹ (integer type)ï¼Œ! è¿ç®—ç¬¦çš„æ“ä½œæ•°å¿…é¡»ä¸ºå¸¸æ•°ç±»å‹ (scalar type)ã€‚ Semantics åœ¨è¿›è¡Œå•ç›® +ã€-ã€~ è¿ç®—ä¹‹å‰ï¼Œä¼šå¯¹æ“ä½œæ•°è¿›è¡Œæ•´æ•°æå‡ (integer promotions)ï¼Œç»“æœçš„ç±»å‹ä¸æ“ä½œæ•°è¿›è¡Œæ•´æ•°æå‡åçš„ç±»å‹ä¸€è‡´ã€‚ !E ç­‰ä»·äº (E==0)ï¼Œç»“æœä¸º int ç±»å‹ã€‚ 6.5.3.4 å¾…è¡¥å…… ","date":"2024-01-11","objectID":"/posts/c-specification/ch6/:2:1","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 6 ç«  Language","uri":"/posts/c-specification/ch6/"},{"categories":["C"],"content":"6.5.7 Bitwise shift operators Syntax shift-expression: additive-exprssion shift-exprssion \u003e\u003e additive-expression shift-exprssion \u003c\u003ccadditive-expression Constraints ä½è¿ç®—çš„æ“ä½œæ•°éƒ½å¿…é¡»ä¸ºæ•´æ•°ç±»å‹ã€‚ Semantics åœ¨è¿›è¡Œä½è¿ç®—ä¹‹å‰ä¼šå…ˆå¯¹æ“ä½œæ•°è¿›è¡Œæ•´æ•°æå‡ (integer promotion)ï¼Œä½è¿ç®—ç»“æœç±»å‹ä¸æ•´æ•°æå‡åçš„å·¦æ“ä½œæ•°ä¸€è‡´ã€‚å¦‚æœå³è¿ç®—æ•°æ˜¯è´Ÿæ•°ï¼Œæˆ–è€…å¤§äºç­‰äºæ•´æ•°æå‡åçš„å·¦è¿ç®—æ•°çš„ç±»å‹çš„å®½åº¦ï¼Œé‚£ä¹ˆè¿™ä¸ªä½è¿ç®—è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚ å‡è®¾è¿ç®—ç»“æœçš„ç±»å‹ä¸º T $E1 \u003c\u003c E2$ å¦‚æœ E1 æ˜¯æ— ç¬¦å·ï¼Œåˆ™ç»“æœä¸º $E1 \\times 2^{E2} \\bmod (\\max[T] + 1)$ã€‚ å¦‚æœ E1 æ˜¯æœ‰ç¬¦å·ï¼ŒE1 ä¸æ˜¯è´Ÿæ•°ï¼Œå¹¶ä¸” T å¯ä»¥è¡¨ç¤º $E1 \\times 2^{E2}$ï¼Œåˆ™ç»“æœä¸º $E1 \\times 2^{E2}$ã€‚ é™¤äº†ä»¥ä¸Šä¸¤ç§è¡Œä¸ºå¤–ï¼Œå…¶ä»–å‡æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚ $E1 \u003e\u003e E2$ å¦‚æœ E1 æ˜¯æ— ç¬¦å·ï¼Œæˆ–è€… E1 æ˜¯æœ‰ç¬¦å·å¹¶ä¸”æ˜¯éè´Ÿæ•°ï¼Œåˆ™ç»“æœä¸º $E1 / 2^{E2}$ã€‚ å¦‚æœ E1 æ˜¯æœ‰ç¬¦å·å¹¶ä¸”æ˜¯è´Ÿæ•°ï¼Œåˆ™ç»“æœç”±å…·ä½“å®ç°å†³å®š (implementation-defined)ã€‚ ","date":"2024-01-11","objectID":"/posts/c-specification/ch6/:2:2","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 6 ç«  Language","uri":"/posts/c-specification/ch6/"},{"categories":["C"],"content":"C è¯­è¨€è§„æ ¼ä¹¦ Chapter 7 - Library é˜…è¯»è®°å½•ã€‚ ","date":"2024-01-11","objectID":"/posts/c-specification/ch7/:0:0","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 7 ç«  Library","uri":"/posts/c-specification/ch7/"},{"categories":["C"],"content":"7.18 Integer types \u003cstdint.h\u003e æè¿°äº†å¤´æ–‡ä»¶ stdint.h å¿…é¡»å®šä¹‰å’Œå®ç°çš„æ•´æ•°ç±»å‹ï¼Œä»¥åŠç›¸åº”çš„å®ã€‚ ","date":"2024-01-11","objectID":"/posts/c-specification/ch7/:1:0","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 7 ç«  Library","uri":"/posts/c-specification/ch7/"},{"categories":["C"],"content":"7.18.1 Integer types 7.18.1.1 Exact-width integer types äºŒè¡¥æ•°ç¼–ç ï¼Œå›ºå®šé•¿åº¦ N çš„æ•´æ•°ç±»å‹ï¼š æœ‰ç¬¦å·æ•°ï¼šintN_t æ— ç¬¦å·æ•°ï¼šuintN_t 7.18.1.2 Minimum-width integer types è‡³å°‘æ‹¥æœ‰é•¿åº¦ N çš„æ•´æ•°ç±»å‹ï¼š æœ‰ç¬¦å·æ•°ï¼šint_leastN_t æ— ç¬¦å·æ•°ï¼šuint_leastN_t 7.18.1.3 Fastest minimum-width integer types è‡³å°‘æ‹¥æœ‰é•¿åº¦ Nï¼Œä¸”æ“ä½œé€Ÿåº¦æœ€å¿«çš„æ•´æ•°ç±»å‹ï¼š æœ‰ç¬¦å·æ•°ï¼šint_fastN_t æ— ç¬¦å·æ•°ï¼šuint_fastN_t 7.18.1.4 Integer types capable of holding object pointers å¯ä»¥å°†æŒ‡å‘ void çš„æœ‰æ•ˆæŒ‡é’ˆè½¬æ¢æˆè¯¥æ•´æ•°ç±»å‹ï¼Œä¹Ÿå¯ä»¥å°†è¯¥æ•´æ•°ç±»å‹è½¬æ¢å›æŒ‡å‘ void çš„æŒ‡é’ˆç±»å‹ï¼Œå¹¶ä¸”è½¬æ¢ç»“æœä¸ä¹‹å‰çš„æŒ‡é’ˆå€¼ä¿æŒä¸€è‡´ï¼š æœ‰ç¬¦å·æ•°ï¼šintptr_t æ— ç¬¦å·æ•°ï¼šuintptr_t 7.18.1.5 Greatest-width integer types å¯ä»¥è¡¨ç¤ºä»»æ„æ•´æ•°ç±»å‹æ‰€è¡¨ç¤ºçš„å€¼çš„æ•´æ•°ç±»å‹ï¼Œå³å…·æœ‰æœ€å¤§é•¿åº¦çš„æ•´æ•°ç±»å‹ï¼š æœ‰ç¬¦å·æ•°ï¼šintmax_t æ— ç¬¦å·æ•°ï¼šuintmax_t ","date":"2024-01-11","objectID":"/posts/c-specification/ch7/:1:1","tags":["C","Sysprog"],"title":"C è§„æ ¼ç¬¬ 7 ç«  Library","uri":"/posts/c-specification/ch7/"},{"categories":["C","Linux Kernel Internals"],"content":"C è¯­è¨€è§„æ ¼ä¹¦é˜…è¯»å­¦ä¹ è®°å½•ã€‚ è§„æ ¼ä¹¦ç‰ˆæœ¬ä¸º n1256ï¼Œå¯¹åº” C99 æ ‡å‡†ï¼Œå¯¹åº”çš„ PDF ä¸‹è½½åœ°å€ã€‚ ä¹Ÿé…åˆ C11 æ ‡å‡†æ¥é˜…è¯»ï¼Œç‰ˆæœ¬ n1570ï¼Œå¯¹åº”çš„ PDF ä¸‹è½½åœ°å€ã€‚ é˜…è¯»è§„æ ¼ä¹¦éœ€è¦ä¸€å®šçš„ä½“ç³»ç»“æ„ã€ç¼–è¯‘åŸç†çš„ç›¸å…³çŸ¥è¯†ï¼Œä½†ä¸éœ€è¦å¾ˆé«˜çš„ç¨‹åº¦ã€‚è¯·å–„ç”¨æ£€ç´¢å·¥å…·ï¼Œåœ¨é˜…è¯»è§„æ ¼ä¹¦æ—¶é‡åˆ°æœ¯è¯­æ—¶ï¼Œè¯·å…ˆåœ¨è§„æ ¼ä¹¦ä¸­è¿›è¡Œæ£€ç´¢ï¼Œå› ä¸ºæå¤§å¯èƒ½æ˜¯è§„æ ¼ä¹¦è‡ªå·±å®šä¹‰çš„æœ¯è¯­ã€‚ ","date":"2024-01-06","objectID":"/posts/c-specification/c-specification/:0:0","tags":["C","Sysprog"],"title":"C è¯­è¨€è§„æ ¼ä¹¦","uri":"/posts/c-specification/c-specification/"},{"categories":["C","Linux Kernel Internals"],"content":"6. Language è¯¦è§ é˜…è¯»è®°å½• 6. Languageã€‚ ","date":"2024-01-06","objectID":"/posts/c-specification/c-specification/:1:0","tags":["C","Sysprog"],"title":"C è¯­è¨€è§„æ ¼ä¹¦","uri":"/posts/c-specification/c-specification/"},{"categories":["C","Linux Kernel Internals"],"content":"7. Library è¯¦è§ é˜…è¯»è®°å½• 7. Libraryã€‚ ","date":"2024-01-06","objectID":"/posts/c-specification/c-specification/:2:0","tags":["C","Sysprog"],"title":"C è¯­è¨€è§„æ ¼ä¹¦","uri":"/posts/c-specification/c-specification/"},{"categories":["Git"],"content":"Git ä¸­æ–‡æ•™å­¦ æ–°æ‰‹å…¥é—¨æ¨èï¼Œå¯¹äº Git çš„å…¥é—¨æ“ä½œè®²è§£ååˆ†å‹å¥½ã€‚ è§†é¢‘åœ°å€ å­¦ä¹ è®°å½• ","date":"2024-01-04","objectID":"/posts/git/:1:0","tags":["Git/GitHub"],"title":"Git/GitHub èµ„æºä¸é—®é¢˜æ±‡æ€»","uri":"/posts/git/"},{"categories":["Git"],"content":"Git å¸¸è§é—®é¢˜åŠè§£å†³ ","date":"2024-01-04","objectID":"/posts/git/:2:0","tags":["Git/GitHub"],"title":"Git/GitHub èµ„æºä¸é—®é¢˜æ±‡æ€»","uri":"/posts/git/"},{"categories":["Git"],"content":"git pull/push é‡åˆ° Port 22 connect timeout ç½‘ç»œé—®é¢˜å¯¼è‡´ 22 ç«¯å£è¢«ç¦æ­¢ï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨ sshã€‚åˆ‡æ¢æˆ 443 ç«¯å£å¹¶ä¸”ç¼–å†™é…ç½®æ–‡ä»¶å³å¯ï¼š $ vim ~/.ssh/config # In ~/.ssh/config Host github.com HostName ssh.github.com Port 443 ","date":"2024-01-04","objectID":"/posts/git/:2:1","tags":["Git/GitHub"],"title":"Git/GitHub èµ„æºä¸é—®é¢˜æ±‡æ€»","uri":"/posts/git/"},{"categories":["Git"],"content":"References Git åŸºæœ¬åŸç† Learn Git Branching ugit åŠ¨æ‰‹å­¦ä¹ GIT - æœ€å¥½å­¦ä¹ GITçš„æ–¹å¼æ˜¯ä»é›¶å¼€å§‹åšä¸€ä¸ª ","date":"2024-01-04","objectID":"/posts/git/:3:0","tags":["Git/GitHub"],"title":"Git/GitHub èµ„æºä¸é—®é¢˜æ±‡æ€»","uri":"/posts/git/"},{"categories":["Network"],"content":"æ•´ç†ä¸€äº›è®¡ç®—æœºç½‘ç»œç›¸å…³çš„èµ„æº ","date":"2024-01-02","objectID":"/posts/network/:0:0","tags":["Network"],"title":"è®¡ç®—æœºç½‘ç»œå­¦ä¹ æŒ‡å¼•","uri":"/posts/network/"},{"categories":["Network"],"content":"Referenecs 110-1 è¨ˆç®—æ©Ÿç¶²è·¯ (æ¸…å¤§é–‹æ”¾å¼èª²ç¨‹) å°èœå­¦ç½‘ç»œ NUDT é«˜çº§è®¡ç®—æœºç½‘ç»œå®éªŒ: åŸºäºUDPçš„å¯é ä¼ è¾“ å¯é  UDP çš„å®ç° (KCP over UDP) åŸºäºUDPçš„å¯é ä¼ è¾“ [bilibili] å®ç°åŸºäºUDPçš„ç½‘ç»œæ–‡ä»¶ä¼ è¾“å™¨ï¼Œç¨‹åºå‘˜çš„ç»éªŒå¤§ç¤¼åŒ…é¡¹ç›® [bilibili] pingå‘½ä»¤ä½†æ˜¯ç”¨æ¥é€šä¿¡ï¼Œå­¦ä¹ è®¡ç®—æœºç½‘ç»œå¥½é¡¹ç›®ï¼Œä¹Ÿå¯èƒ½æ˜¯æ ¡å›­ç½‘ç¦åˆ© [bilibili] Implementing TCP in Rust [YouTube] Letâ€™s code a TCP/IP stack ","date":"2024-01-02","objectID":"/posts/network/:1:0","tags":["Network"],"title":"è®¡ç®—æœºç½‘ç»œå­¦ä¹ æŒ‡å¼•","uri":"/posts/network/"},{"categories":["Linux Kernel Internals"],"content":" æ‘˜è¦ äººä»¬å¯¹æ•°å­¦çš„åŠ å‡è¿ç®—å¯è½»æ˜“åœ¨è„‘ä¸­è¾¨è¯†ç¬¦å·å¹¶ç†è§£å…¶ç»“æœï¼Œä½†ç”µè„‘åšä»»ä½•äº‹éƒ½å—é™äºå®ä½“èµ„æ–™å‚¨å­˜åŠæ“ä½œæ–¹å¼ï¼Œæ¢è¨€ä¹‹ï¼Œç”µè„‘ç¡¬ä½“å®é™…åªè®¤å¾— 0 å’Œ 1ï¼Œå´ä¸çŸ¥é“ç¬¦å· + å’Œ - åœ¨æ•°å­¦åŠåº”ç”¨åœºåŸŸçš„æ„ä¹‰ï¼Œæ–¼æ˜¯å·¥ç¨‹äººå‘˜å¼•å…¥ã€Œè¡¥æ•°ã€ä»¥ä¾¿åœ¨äºŒè¿›ä½ç³»ç»Ÿä¸­ï¼Œè¡¨è¾¾äººä»¬è®¤çŸ¥ä¸Šçš„æ­£è´Ÿæ•°ã€‚ä½†æ‚¨æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä½•ã€ŒäºŒè¡¥æ•°ã€(2â€™s complement) è¢«ç”µè„‘å¹¿æ³›é‡‡ç”¨å‘¢ï¼ŸèƒŒå¾Œçš„è®¾è®¡è€ƒé‡åˆæ˜¯ä»€éº½ï¼Ÿæœ¬æ–‡å°è¯•ä»æ•°å­¦è§‚ç‚¹å»è§£è¯»ç¼–ç èƒŒå¾Œçš„åŸç†ï¼Œå¹¶ä½ä»¥èµ„è®¯å®‰å…¨åŠç¨‹å¼ç æœ€ä½³åŒ–çš„è€ƒé‡ï¼Œæ¢è®¨äºŒè¡¥æ•°è¿™æ ·çš„ç¼–ç å¯¹äºç¨‹å¼è®¾è®¡æœ‰ä½•å…³é”®å½±å“ã€‚ åŸæ–‡åœ°å€ï¼šè§£è®€è¨ˆç®—æ©Ÿç·¨ç¢¼ ","date":"2023-12-31","objectID":"/posts/binary-representation/:0:0","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"ä¸€è¡¥æ•° (Onesâ€™ complement) ","date":"2023-12-31","objectID":"/posts/binary-representation/:1:0","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"9 çš„è¡¥æ•° âœ… ç§‘æ™®çŸ­ç‰‡: Not just counting, but saving lives: Curta ","date":"2023-12-31","objectID":"/posts/binary-representation/:1:1","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"è¿ç®—åŸç† æ³¨æ„ ä»¥ä¸€è¡¥æ•°ç¼–ç å½¢å¼è¡¨ç¤ºçš„è¿ç®—å­ï¼Œåœ¨å‚ä¸è¿ç®—åï¼Œè¿ç®—ç»“æœç¬¦åˆä¸€è¡¥æ•°çš„ç¼–ç ï¼š $$ [X]_{ä¸€è¡¥æ•°} + [Y]_{ä¸€è¡¥æ•°} = [X+Y]_{ä¸€è¡¥æ•°} $$ æ¥ä¸‹æ¥è¿›è¡Œåˆ†ç±»è®¨è®ºï¼Œä»¥ 32-bit æ­£æ•° $X$, $Y$ ä¸ºä¾‹ï¼š $X + Y = X + Y$ æ˜¾ç„¶è¿ç®—å­å’Œè¿ç®—ç»“æœéƒ½æ»¡è¶³ä¸€è¡¥æ•°ç¼–ç ã€‚ $X - Y = X + (2^{32} - 1 - Y)$ å¦‚æœ $X \u003e Y$ï¼Œåˆ™è¿ç®—ç»“æœåº”ä¸º $X - Y$ ä¸”ä¸ºæ­£æ•°ï¼Œå…¶ä¸€è¡¥æ•°ç¼–ç ä¸º $X - Y$ã€‚è€Œæ­¤æ—¶ $$ 2^{32} - 1 + X - Y $$ æ˜¾ç„¶ä¼šæº¢å‡ºï¼Œä¸ºäº†ä½¿è¿ç®—ç»“æœå¯¹åº”ä¸€è¡¥æ•°ç¼–ç ï¼Œæ‰€ä»¥æ­¤æ—¶å¾ªç¯è¿›ä½å¯¹åº” $+\\ (1 - 2_{32})$ã€‚ å¦‚æœ $X \u003c Y$ï¼Œåˆ™è¿ç®—ç»“æœåº”ä¸º $X - Y$ ä¸”ä¸ºè´Ÿæ•°ï¼Œå…¶ä¸€è¡¥æ•°ç¼–ç ä¸º $$ 2^{32} - 1 - ï¼ˆY - Xï¼‰ = 2_{32} - 1 - X - Y $$ è€Œæ­¤æ—¶ $2^{32} - 1 + X - Y$ å¹¶ä¸ä¼šæº¢å‡ºï¼Œå¹¶ä¸”æ»¡è¶³è¿ç®—ç»“æœçš„ä¸€è¡¥æ•°ç¼–ç ï¼Œæ‰€ä»¥æ— éœ€è¿›è¡Œå¾ªç¯è¿›ä½ã€‚ å¦‚æœ $X = Y$ï¼Œæ˜¾ç„¶ $$ X - Y = X + 2^{32} - 1 - Y = 2^{32} - 1 $$ ä¸º 0 æˆç«‹ã€‚ $-X - Y = (2^{32} - 1 - X) + (2^{32} - 1 - Y)$ï¼Œæ˜¾ç„¶ä¼šå¯¼è‡´æº¢å‡ºã€‚è€Œ $-X - Y$ çš„ä¸€è¡¥æ•°ç¼–ç ä¸º $$ 2^{32} - 1 - (X + Y) = 2^{32} - 1 - X - Y $$ æ‰€ä»¥éœ€è¦åœ¨æº¢å‡ºæ—¶å¾ªç¯è¿›ä½ $+\\ (1 - 2^{32})$ æ¥æ¶ˆé™¤è¿ç®—ç»“æœä¸­çš„ä¸€ä¸ª $2^{32} - 1$ã€‚ ","date":"2023-12-31","objectID":"/posts/binary-representation/:1:2","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"äºŒè¡¥æ•° (Twoâ€™s complement) ","date":"2023-12-31","objectID":"/posts/binary-representation/:2:0","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"æ­£è´Ÿæ•°ç¼–ç è¡¨ç¤º å‡è®¾æœ‰ n-bit çš„äºŒè¡¥æ•°ç¼–ç  $A$ï¼Œ$-A$ çš„æ¨å¯¼å¦‚ä¸‹ï¼š æ ¼å¼ä¸€ï¼š $$ \\begin{align*} A + \\neg A \u0026= 2^n - 1 \\\\ A + \\neg A + 1 \u0026\\equiv 0 \\equiv 2^n \\ (\\bmod 2^n) \\\\ -A \u0026= \\neg A + 1 \\\\ \\end{align*} $$ æ ¼å¼äºŒï¼š $$ \\begin{align*} A + \\neg A \u0026= 2^n - 1 \\\\ A + \\neg A - 1 \u0026= 2^n - 2 \\\\ A - 1 \u0026= 2^n - 1 - (\\neg A + 1) \\\\ \\neg (A - 1) \u0026= \\neg A + 1 \\\\ \\neg (A - 1) \u0026= -A \\\\ \\end{align*} $$ ä¹Ÿå¯ä»¥é€šè¿‡ä¸€è¡¥æ•°å’ŒäºŒè¡¥æ•°ï¼Œåœ¨æ—¶é’Ÿè¡¨ä¸Šçš„å¯¹ç§°è½´åå·®ï¼Œæ¥ç†è§£ä¸Šè¿°ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ã€‚ ","date":"2023-12-31","objectID":"/posts/binary-representation/:2:1","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"åŠ  / å‡æ³•å™¨è®¾è®¡ âœ… ç§‘æ™®çŸ­ç‰‡: See How Computers Add Numbers In One Lesson äº†è§£æ™¶ä½“ç®¡çš„åŸç† äº†è§£åŸºæœ¬é€»è¾‘é—¨å…ƒä»¶ï¼Œä¾‹å¦‚ OR, AND é€»è¾‘é—¨çš„è®¾è®¡ äº†è§£åŠ æ³•å™¨çš„åŸç†å’Œå·¥ä½œæµç¨‹ã€‚ ","date":"2023-12-31","objectID":"/posts/binary-representation/:2:2","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"é˜¿è´å°”ç¾¤åŠå¯¹ç§°æ€§ æŠ€å·§ ç¾¤è®ºçš„æœ€å¤§ç”¨é€”æ˜¯å…³äºã€Œå¯¹ç§°æ€§ã€çš„ç ”ç©¶ï¼›æ‰€æœ‰å…·æœ‰å¯¹ç§°æ€§è´¨ï¼Œç¾¤è®ºéƒ½å¯æ´¾ä¸Šç”¨åœºã€‚åªè¦å‘ç”Ÿå˜æ¢åä»æœ‰ä»€ä¹ˆä¸œè¥¿è¿˜ç»´æŒä¸å˜ï¼Œé‚£ç¬¦åˆå¯¹ç§°çš„æ€§è´¨ã€‚ ä¸€ä¸ªåœ†å·¦å³ç¿»è½¬åè¿˜æ˜¯åœ†ï¼Œå®ƒåœ¨è¿™ç§å˜æ¢ä¸‹æ˜¯å¯¹ç§°çš„ï¼Œè€Œè¿™åˆšå¥½ä¸ç¾¤çš„ å°é—­æ€§ (Closure) å¯¹åº”ã€‚ ä¸€ä¸ªæ—¶é’Ÿçš„æ—¶åˆ»ï¼Œä» 0 æ—¶åˆ»å¼€å§‹ï¼Œä¸¤è¾¹çš„æ—¶åˆ»ç›¸åŠ æ¨¡ 12 çš„ç»“æœå‡ä¸º 0ï¼Œè¿™ä¸ç¾¤çš„ å•ä½å…ƒ (Identity element) å’Œ é€†å…ƒ (Inverse element) å¯¹åº”ã€‚ ä¸Šè¿°ä¸¤ä¸ªä¾‹å­åæ˜ äº†ç¾¤è®ºçš„æ€§è´¨ï¼Œå¯¹äºå¯¹ç§°æ€§ç ”ç©¶çš„é‡è¦æ€§å’ŒåŸç†ä¾æ®ã€‚ ç§‘æ™®å½±ç‰‡ï¼šä»äº”æ¬¡æ–¹ç¨‹åˆ°ä¼½ç½—ç“¦ç†è®º é˜¿è´å°”å’Œä¼½ç½—ç“¦çš„æ‚²æƒ¨ä¸–ç•Œ ","date":"2023-12-31","objectID":"/posts/binary-representation/:3:0","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"æ—è·¯æ”»å‡» âœ… è§‚çœ‹ç§‘æ™®è§†é¢‘: æˆ‘å¬å¾—åˆ°ä½ æ‰“äº†ä»€ä¹ˆå­— é˜…è¯»ç›¸å…³è®ºæ–‡ Keyboard Acoustic Emanations ä½“éªŒä½¿ç”¨ç›¸å…³å·¥å…· kbd-audio âœ… å€Ÿç”± Wikipedia äº†è§£æ—è·¯æ”»å‡» (Side-channel attack) å’Œæ—¶åºæ”»å‡» (Timing attack) çš„åŸºæœ¬æ¦‚å¿µã€‚ Black-box testing Row hammer Cold boot attack Rubber-hose cryptanalysis å»¶ä¼¸é˜…è¯» The password guessing bug in Tenex Side Channel Attack By Using Hidden Markov Model One\u0026Done: A Single-Decryption EM-Based Attack on OpenSSLâ€™s Constant-Time Blinded RSA ","date":"2023-12-31","objectID":"/posts/binary-representation/:4:0","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"Constant-Time Functions æ¯”è¾ƒå¸¸è§çš„å¸¸æ•°æ—¶é—´å®ä½œæ–¹æ³•æ˜¯ï¼Œæ¶ˆé™¤åˆ†æ”¯ã€‚å› ä¸ºä¸åŒåˆ†æ”¯çš„æ‰§è¡Œæ—¶é—´å¯èƒ½ä¼šä¸åŒï¼Œè¿™ä¼šè¢«åˆ©ç”¨è¿›è¡Œæ—¶åºæ”»å‡»ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦å¯¹ C è¯­è¨€ä¸­çš„ç¼–ç å’Œä½è¿ç®—æœ‰ä¸€å®šçš„äº†è§£ã€‚ C99 STandard - 7.18.1.1 Exact-width integer types é˜…è¯»è®°å½• C99 Standard - 6.5.7.5 Bitwise shift operators é˜…è¯»è®°å½• Branchless abs æ–¹æ³•ä¸€ï¼ŒåŸç†ä¸º $-A = \\neg (A - 1)$: #include \u003cstdint.h\u003e int32_t abs(int32_t x) { int32_t mask = (x \u003e\u003e 31); return (x + mask) ^ mask; } æ–¹æ³•äºŒï¼ŒåŸç†ä¸º $-A = \\neg A + 1$: #include \u003cstdint.h\u003e int32_t abs(int32_t x) { int32_t mask = (x \u003e\u003e 31); return (x ^ mask) - mask; } Branchless min/max Min: #include \u003cstdint.h\u003e int32_t min(int32_t a, int32_t b) { int32_t diff = (a - b); return b + (diff \u0026 (diff \u003e\u003e 31)); } å¦‚æœ diff \u003e 0 å³ b å°ï¼Œé‚£ä¹ˆ (diff \u003e\u003e 31) == 0ï¼Œåˆ™ b + (diff \u0026 (diff \u003e\u003e 31)) == b å¦‚æœ diff \u003c 0 å³ a å°ï¼Œé‚£ä¹ˆ (diff \u003e\u003e 31) == -1ï¼Œåˆ™ b + (diff \u0026 (diff \u003e\u003e 31)) == b + (a - b) == a Max: #include \u003cstdint.h\u003e int32_t max(int32_t a, int32_t b) { int32_t diff = (b - a); return b - (diff \u0026 (diff \u003e\u003e 31)); } å¦‚æœ diff \u003e 0 å³ b å¤§, é‚£ä¹ˆ (diff \u003e\u003e 31) == 0ï¼Œåˆ™ b - (diff \u0026 (diff \u003e\u003e 31)) == b å¦‚æœ diff \u003c 0 å³ a å¤§ï¼Œé‚£ä¹ˆ (diff \u003e\u003e 31) == -1ï¼Œåˆ™ b - (diff \u0026 (diff \u003e\u003e 31)) == b - (b - a) == a å»¶ä¼¸é˜…è¯» âŒ åŸºäº C è¯­è¨€æ ‡å‡†ç ”ç©¶ä¸ç³»ç»Ÿç¨‹åºå®‰å…¨è®®é¢˜ ","date":"2023-12-31","objectID":"/posts/binary-representation/:4:1","tags":["Sysprog"],"title":"è§£è¯»è®¡ç®—æœºç¼–ç ","uri":"/posts/binary-representation/"},{"categories":["Linux Kernel Internals"],"content":"Rust in 100 Seconds âœ… è§‚çœ‹çŸ­ç‰‡ï¼šRust in 100 Seconds äº†è§£ Rustï¼Œåˆæ­¥äº†è§£å…¶å®‰å…¨æ€§åŸç† æ‰€æœ‰æƒ (ownership) å€Ÿç”¨ (borrow) è­¦å‘Š 0:55 This is wrong, value mutability doesnâ€™t have anything to do with the value being stored on the stack or the heap (and the example let mut hello = \"hi mom\" will be stored on the stack since itâ€™s type is \u0026'static str), it depends on the type of the value (if itâ€™s Sized or not). ","date":"2023-12-28","objectID":"/posts/rust-introduction/:1:0","tags":["Rust","Sysprog"],"title":"Rust - è¿›è¡Œä¸­çš„æœªæ¥","uri":"/posts/rust-introduction/"},{"categories":["Linux Kernel Internals"],"content":"The adoption of Rust in Business (2022) âŒ é˜…è¯»æŠ¥å‘Š The adoption of Rust in Business (2022)ã€‚ ","date":"2023-12-28","objectID":"/posts/rust-introduction/:2:0","tags":["Rust","Sysprog"],"title":"Rust - è¿›è¡Œä¸­çš„æœªæ¥","uri":"/posts/rust-introduction/"},{"categories":["Git","Linux Kernel Internals"],"content":"æ•™å­¦å½±ç‰‡ï¼šGit ä¸­æ–‡æ•™å­¦ ","date":"2023-12-27","objectID":"/posts/git-learn/:0:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"å®‰è£…ä¸è®¾å®š æ³¨æ„ âœ… è§‚çœ‹å½±ç‰‡ Git æ•™å­¦ç³»åˆ— - å®‰è£…ä¸é…ç½®ï¼Œå®Œæˆå¸¸ç”¨çš„ Git è®¾ç½®ã€‚ è®¾ç½® Git çš„ç¼–è¾‘å™¨ä¸º vimï¼Œä¸»è¦ç”¨äº commit æ—¶çš„ç¼–è¾‘ï¼š $ git config --global core.editor vim è®¾ç½® Git çš„åˆå¹¶è§£å†³å†²çªå·¥å…·ä¸º vimdiffï¼š $ git config --global merge.tool vimdiff å¯ç”¨ Git å‘½ä»¤è¡Œç•Œé¢çš„é¢œè‰²æ˜¾ç¤ºï¼š $ git config --global color.ui true è®¾ç½®å¸¸ç”¨å‘½ä»¤çš„åˆ«åï¼š $ git config --global alias.st status $ git config --global alias.ch checkout $ git config --global alias.rst reset HEAD æ•ˆæœä¸ºï¼šå‘½ä»¤ git st ç­‰ä»·äº git statusï¼Œå…¶ä½™çš„ç±»ä¼¼ã€‚ è®¾ç½® Windows å’Œ Mac/Linux çš„æ¢è¡Œç¬¦åŒæ­¥ï¼š # In Windows $ git config --global core.autocrlf true # In Mac/Linux $ git config --global core.autocrlf input æ•ˆæœä¸ºï¼šåœ¨ Windows æäº¤æ—¶è‡ªåŠ¨å°† CRLF è½¬ä¸º LFï¼Œæ£€å‡ºä»£ç æ—¶å°† LF è½¬æ¢æˆ CRLFã€‚åœ¨ Mac/Linux æäº¤æ—¶å°† CRLFè½¬ä¸º LFï¼Œæ£€å‡ºä»£ç æ—¶ä¸è½¬æ¢ã€‚è¿™æ˜¯å› ä¸º Windows çš„æ¢è¡Œç¬¦ä¸º \\r\\nï¼Œè€Œ Mac/Linux çš„æ¢è¡Œç¬¦ä»…ä¸º \\nã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:1:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Add å’Œ Commit ","date":"2023-12-27","objectID":"/posts/git-learn/:2:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"æŒ‡å®š Commit æ³¨æ„ âœ… è§‚çœ‹å½±ç‰‡ Git æ•™å­¦ç³»åˆ— - æŒ‡å®š Commitï¼ŒæŒæ¡ git logã€git showã€git diff çš„å¸¸ç”¨æ–¹æ³•ã€‚ç†è§£ Hash Value å’Œ commit å¯¹äº Git ç‰ˆæœ¬æ§åˆ¶çš„æ ¸å¿ƒä½œç”¨ã€‚ åªè¦ commit äº†ï¼Œèµ„æ–™åŸºæœ¬ä¸å¯èƒ½ä¸¢å¤±ï¼Œå³ä½¿è¯¯æ“ä½œäº†ä¹Ÿæ˜¯å¯ä»¥è¡¥æ•‘å›æ¥çš„ï¼ˆé™¤éæŠŠ .git/ æ–‡ä»¶å¤¹ä¹Ÿåˆ é™¤äº†ï¼‰ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:3:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Hash Value Every commit has a unique hash value. Calculate by SHA1 Hash value can indicate a commit absolutely. ","date":"2023-12-27","objectID":"/posts/git-learn/:3:1","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Indicate Commit git manage references to commit HEAD Branch Tag Remote Also, We can indicate commit by ^, ~ é€šä¿—åœ°å°†ï¼Œä¸è®ºæ˜¯ HEADã€Branchã€Tagã€Remoteï¼Œå…¶æœ¬è´¨éƒ½æ˜¯ä½¿ç”¨ Hash Value è¿›è¡Œç´¢å¼•çš„ commitï¼Œæ‰€ä»¥ ~ å’Œ ^ ä¹Ÿå¯ä»¥ä½œç”¨äºå®ƒä»¬ã€‚ å¯ä»¥é€šè¿‡ git log æ¥æŸ¥çœ‹ commit ä»¥åŠå¯¹åº”çš„ Hash å€¼ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªå‘½ä»¤ååˆ†çµæ´»ï¼Œä¸¾ä¸ªä¾‹å­ï¼š git log 4a6ebc -n1 è¿™ä¸ªå‘½ä»¤çš„æ•ˆæœæ˜¯ä» Hash å€¼ä¸º 4a6bc çš„ commit å¼€å§‹æ‰“å° 1 æ¡ commit è®°å½•ï¼ˆæ²¡é”™ï¼Œå¯¹åº”çš„æ˜¯ -n1ï¼‰ï¼Œå› ä¸º Git ååˆ†èªæ˜ï¼Œæ‰€ä»¥ commit å¯¹åº”çš„ Hash å€¼åªéœ€å‰ 6 ä½å³å¯ï¼ˆå› ä¸ºè¿™æ ·å·²ç»å‡ ä¹ä¸ä¼šå‘ç”Ÿ Hash å†²çªï¼‰ã€‚ Examples æ‰“å° master åˆ†æ”¯çš„æœ€æ–°ä¸€ä¸ª commitï¼š git log master -n1 æ‰“å° master åˆ†æ”¯çš„æœ€æ–°ä¸€ä¸ª commitï¼ˆä»…ä½¿ç”¨ä¸€è¡Œæ‰“å° commit ä¿¡æ¯ï¼‰ï¼š git log master -n1 --oneline æ‰“å° HEAD æ‰€æŒ‡å‘çš„ commitï¼š git log HEAD -n1 --oneline æ‰“å° HEAD æ‰€æŒ‡å‘çš„ commit çš„å‰ä¸€ä¸ª commitï¼š git log HEAD^ -n1 --oneline ^ å¯ä»¥æŒç»­ä½¿ç”¨ï¼Œæ¯”å¦‚ HEAD^^ è¡¨ç¤º HEAD æ‰€æŒ‡å‘çš„ commit çš„å‰ä¸¤ä¸ª commitã€‚å½“ ^ æ•°é‡è¿‡å¤šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ~ æ­é…æ•°å­—æ¥è¾¾åˆ°ç›¸åŒæ•ˆæœã€‚ä¾‹å¦‚ï¼š git log HEAD^^^^^ -n1 --oneline git log HEAD~5 -n1 --oneline ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ ^ å°±å·²ç»è¶³å¤Ÿäº†ï¼Œå‡ ä¹ä¸ä¼šé‡åˆ°ä½¿ç”¨ ~ çš„åœºæ™¯ï¼Œå› ä¸ºè¿™ç§åœºæ™¯ä¸€èˆ¬ä¼šå»æ‰¾å›¾å½¢åŒ–ç•Œé¢å§ã€‚ğŸ¤£ æ‰“å°ä¸æ–‡ä»¶ README.md ç›¸å…³çš„ commitsï¼ˆä»…ä½¿ç”¨ä¸€è¡Œæ˜¾ç¤ºï¼‰ï¼š git log --oneline README.md æ‰“å°ä¸æ–‡ä»¶ README.md ç›¸å…³çš„ commitsï¼ˆæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶å†…å®¹çš„å¢å‡ç»Ÿè®¡ï¼‰ï¼š git log --stat README.md æ‰“å°ä¸æ–‡ä»¶ README.md ç›¸å…³çš„ commitsï¼ˆæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶å†…å®¹çš„å¢å‡ç»†èŠ‚ï¼‰ï¼š git log --patch README.md åœ¨æ‰“å°çš„ commit ä¿¡æ¯ä¸­æŠ“å–ä¸ README ç¬¦åˆçš„ä¿¡æ¯ï¼ˆå¯ä»¥ä¸ --stat æˆ– --patch é…åˆä½¿ç”¨ï¼‰ï¼š git log -S README ","date":"2023-12-27","objectID":"/posts/git-learn/:3:2","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"View History git log \u003cpath\u003e|\u003ccommit\u003e -n: limit number --oneline: view hash and commit summary --stat: view files change --patch: view lines change -S or --grep: find modification ","date":"2023-12-27","objectID":"/posts/git-learn/:3:3","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"View Commit git show \u003ccommit\u003e Equal to log -n1 ","date":"2023-12-27","objectID":"/posts/git-learn/:3:4","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"See Difference æŸ¥çœ‹å½“å‰çš„ä¿®æ”¹ï¼Œå¯ä»¥æŸ¥çœ‹å·²ç»ä¿®æ”¹ä½†æ²¡æœ‰ staged æ–‡ä»¶çš„å˜åŒ–ï¼š git diff æŸ¥çœ‹å½“å‰çš„ä¿®æ”¹ï¼Œå¯ä»¥æŸ¥çœ‹å·²ç»ä¿®æ”¹ä¸” staged æ–‡ä»¶çš„å˜åŒ–ï¼š git diff --staged æŸ¥çœ‹å½“å‰ä¸æŒ‡å®šçš„ commit çš„å·®å¼‚ï¼š git diff \u003ccommit\u003e # e.g. git diff master^ æŸ¥ä¸¤ä¸ªæŒ‡å®šçš„ commit ä¹‹é—´çš„å·®å¼‚ï¼š git diff \u003ccommit\u003e \u003ccommit\u003e # e.g. git diff master^ master^^ ","date":"2023-12-27","objectID":"/posts/git-learn/:3:5","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Path Add and Amend æ³¨æ„ âœ… è§‚çœ‹å½±ç‰‡ Git æ•™å­¦ç³»åˆ— - Patch Add and Amendï¼ŒæŒæ¡ git add -pã€git checkout -pã€git add ---amend çš„ç”¨æ³•ï¼Œä½¿ç”¨ add å’Œ checkout æ—¶å¼ºçƒˆå»ºè®®ä½¿ç”¨ -pï¼ŒæŒæ¡ä¿®æ”¹ commit çš„ä¸¤ç§æ–¹æ³•ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:4:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Only Add Related git add -p æ¨èå°½é‡ä½¿ç”¨è¿™ä¸ª git add -p è€Œä¸æ˜¯å•çº¯çš„ git addã€‚ ä½¿ç”¨ git add -p åï¼ŒGit ä¼šå¸®æˆ‘ä»¬æŠŠæ¶‰åŠçš„ä¿®æ”¹åˆ†æˆ sectionï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥å¯¹æ¯ä¸€ä¸ª section æ¶‰åŠçš„ä¿®æ”¹è¿›è¡Œ reviewï¼Œé€‰æ‹© y(yes) è¡¨ç¤ºé‡‡çº³è¯¥ sction å¯¹åº”çš„ä¿®æ”¹ï¼Œé€‰æ‹© n(no) è¡¨ç¤ºä¸é‡‡çº³ã€‚ å¦‚æœè§‰å¾— section åˆ‡å‰²çš„ç²’åº¦å¤ªå¤§äº†ï¼Œå¯ä»¥é€‰æ‹© s(split) æ¥è¿›è¡Œæ›´ç»†ç²’åº¦çš„åˆ’åˆ†ã€‚å¦‚æœè¿™æ ·ä»ç„¶è§‰å¾—ç²’åº¦ä¸å¤Ÿï¼Œå¯ä»¥é€‰æ‹© e(edit) å¯¹ section æ¶‰åŠçš„ä¿®æ”¹ï¼Œè¿›è¡Œä»¥è¡Œä¸ºç²’åº¦çš„ reviewï¼Œå…·ä½“æ“ä½œå¯ä»¥æŸ¥é˜…æ­¤æ—¶ç»™å‡ºçš„æç¤ºã€‚ è¿˜æœ‰ä¸€äº›å…¶å®ƒçš„é€‰é¡¹ï¼Œæ¯”å¦‚ jã€Jã€kã€Kï¼Œè¿™äº›æ˜¯ç±»ä¼¼ vimï¼Œç”¨äºåˆ‡æ¢è¿›è¡Œ review çš„ sectionï¼Œä¸å¤ªå¸¸ç”¨ã€‚q(quit) è¡¨ç¤ºé€€å‡ºã€‚ ç”±äºå¯ä»¥é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶çš„ä¸åŒ section è¿›è¡Œ reviewï¼Œæ‰€ä»¥åœ¨è¿›è¡Œ git add -p ä¹‹åï¼Œä½¿ç”¨ git status å¯ä»¥å‘ç°åŒä¸€ä¸ªæ–‡ä»¶ä¼šåŒæ—¶å¤„äºä¸¤ç§çŠ¶æ€ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:4:1","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Checkout Also git checkout -p è¿™ä¸ªæ“ä½œæ¯”è¾ƒå±é™©ï¼Œå› ä¸ºè¿™ä¸ªæ“ä½œçš„æ•ˆæœä¸ git add -p ç›¸åï¼Œå¦‚æœé€‰æ‹© y çš„è¯ï¼Œæ–‡ä»¶æ¶‰åŠçš„ä¿®æ”¹å°±ä¼šæ¶ˆå¤±ï¼Œå¦‚æœæ¶‰åŠçš„ä¿®æ”¹æ²¡æœ‰ commit çš„è¯ï¼Œé‚£ä¹ˆæ¶‰åŠçš„ä¿®æ”¹æ˜¯æ— æ³•æ•‘å›çš„ã€‚ä½†æ˜¯æ€ä¹ˆè¯´ï¼Œè¿™ä¸ªæ“ä½œè¿˜æ˜¯æ¯”ç›´æ¥ä½¿ç”¨ git checkout ç¨å¾®ä¿é™©ä¸€ç‚¹ï¼Œå› ä¸ºä¼šå…ˆè¿›å…¥ review ç•Œé¢ï¼Œè€Œä¸æ˜¯ç›´æ¥æ’¤é”€ä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œè¯·ä¸€å®šè¦ä½¿ç”¨ git checkout -pï¼ ","date":"2023-12-27","objectID":"/posts/git-learn/:4:2","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Modify Commit æœ‰ä¸¤ç§æ–¹å¼æ¥ä¿®æ”¹æœ€æ–°çš„ commitï¼š # 1. Use git commit --amend git commit --amend # 2. Use reset HEAD^ then re-commit git reset HEAD^ git add -p git commit git commit --amend å¹¶ä¸æ˜¯ç›´æ¥æ›¿æ¢åŸæœ‰çš„ commitï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ commit å¹¶é‡æ–°è®¾ç½®äº† HEAD çš„æŒ‡å‘ã€‚æ‰€ä»¥ï¼Œæ–°æ—§ä¸¤ä¸ª commit çš„ Hash Value å¹¶ä¸ç›¸åŒï¼Œäº‹å®ä¸Šï¼Œå¦‚æœä½ æ‹¥æœ‰æ—§ commit çš„ Hash Valueï¼Œæ˜¯å¯ä»¥é€šè¿‡ git checkout \u003ccommit\u003e åˆ‡æ¢åˆ°é‚£ä¸ª commit çš„ã€‚å…¶åŸç†å¦‚ä¸‹å›¾ï¼š ä½†æ˜¯æ³¨æ„ï¼Œgit reset HEAD^ æ˜¯ä¼šæ’¤é”€åŸå…ˆçš„ commitï¼ˆä»…é™äºæœ¬åœ° Git å­˜å‚¨åº“ï¼‰ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:4:3","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Branch and Merge æ³¨æ„ âœ… è§‚çœ‹å½±ç‰‡ Git æ•™å­¦ç³»åˆ— - Branch and Mergeï¼ŒæŒæ¡åˆ›å»ºã€åˆ é™¤ã€åˆ‡æ¢åˆ†æ”¯çš„ç”¨æ³•ï¼ŒæŒæ¡åˆå¹¶åˆ†æ”¯ã€è§£å†³å†²çªçš„æ–¹æ³•ã€‚ git checkout \u003ccommit\u003e git branch \u003cname\u003e git branch \u003cname\u003e \u003ccommit\u003e git branch [-d|-D] \u003cname\u003e git merge \u003cname\u003e --no-ff ","date":"2023-12-27","objectID":"/posts/git-learn/:5:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Move and Create Branch Checkout: move HEAD git checkout \u003ccommit\u003e: Move HEAD to commit git checkout \u003cpath\u003e: WARNING: discard change å¯ä»¥å°†è·¯å¾„ä¸Šçš„æ–‡ä»¶å¤åŸåˆ°ä¹‹å‰ commit çš„çŠ¶æ€ã€‚ Branch: git branch: List branch git branch \u003cname\u003e: Create branch Or just: git checkout -b Examples ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶å¹¶æ¢å¤ï¼š # modify file load.cpp git status git checkout load.cpp git status åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¹¶æ¢å¤ï¼š rm load.cpp git status git checkout load.cpp git status æ­£å¦‚ä¸Šä¸€èŠ‚æ‰€è¯´çš„ï¼Œgit checkout å°½é‡å¸¦ä¸Š -p å‚æ•°ï¼Œå› ä¸ºå¦‚æœä¸€ä¸å°å¿ƒè¾“å…¥äº† git checkout .ï¼Œé‚£å°±å‰åŠŸå°½å¼ƒäº†ã€‚ æ˜¾ç¤ºåˆ†æ”¯ï¼š # only show name git branch # show more infomation git branch -v åˆ‡æ¢åˆ†æ”¯ï¼š # switch to branch 'main' git checkout main åˆ›å»ºåˆ†æ”¯ï¼š # 1. using `git branch` git branch cload # 2. using `git checkout -b` git checkout -b asmload # 3. create a new branch in \u003ccommit\u003e git branch cload \u003ccommit\u003e åˆ‡æ¢åˆ°ä»»ä¸€ commitï¼š git checkout \u003ccommit\u003e ç›´æ¥ checkout åˆ°ä»»ä¸€ commit ä¼šæœ‰è­¦å‘Šï¼Œè¿™æ˜¯å› ä¸ºï¼Œå½“ä½ ä»¥è¯¥ commit ä¸ºåŸºç‚¹è¿›è¡Œä¸€ç³»åˆ—çš„ commitï¼Œè¿™äº›æ–°çš„ commit ä¼šåœ¨ä½ åˆ‡æ¢åˆ†æ”¯åæ¶ˆå¤±ï¼Œå› ä¸ºæ²¡æœ‰ branch æ¥å¼•ç”¨å®ƒä»¬ã€‚ä¹‹å‰å¯ä»¥è¢«å¼•ç”¨æ˜¯å› ä¸º HEAD å¼•ç”¨ï¼Œåˆ‡æ¢åˆ†æ”¯å HEAD ä¸å†å¼•ç”¨è¿™äº› commitï¼Œæ‰€ä»¥å°±ä¼šæ¶ˆå¤±ã€‚åœ¨è¿™ç§æƒ…å†µï¼ŒGit ä¼šåœ¨å‘å‡ºè­¦å‘Šçš„åŒæ—¶å»ºè®®æˆ‘ä»¬ä½¿ç”¨ git branch æ¥åˆ›å»ºåˆ†æ”¯è¿›è¡Œå¼•ç”¨ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:5:1","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"View Branch åˆ—å‡ºä»“åº“çš„æ‰€æœ‰åˆ†æ”¯ï¼š git branch ä¹Ÿå¯ä»¥é€šè¿‡ log æ¥æŸ¥çœ‹åˆ†æ”¯ï¼š git log --decorate: åœ¨ log çš„é¦–è¡Œæ˜¾ç¤ºæ‰€æœ‰çš„ referencesï¼ˆå¯èƒ½éœ€è¦é€šè¿‡ git config log.decorate auto æ¥å¼€å¯ï¼‰ --graph: ä»¥å›¾å½¢åŒ–çš„æ–¹å¼æ˜¾ç¤º branch çš„å…³ç³»ï¼ˆä¸»è¦æ˜¯ commit çš„å¼•ç”¨ï¼‰ ","date":"2023-12-27","objectID":"/posts/git-learn/:5:2","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Delete Branch åˆ é™¤åˆ†æ”¯ï¼š git branch -d \u003cname\u003e å¯¹äºæœ‰æ²¡æœ‰ merge çš„ commit çš„åˆ†æ”¯ï¼ŒGit ä¼šè­¦å‘Šï¼Œéœ€è¦ä½¿ç”¨ -D æ¥å¼ºåˆ¶åˆ é™¤ï¼š git branch -D \u003cname\u003e for no-merge commit WARNING: Discard Commit Git ä¼šå‘å‡ºè­¦å‘Šçš„åŸå› åŒæ ·æ˜¯ no-merge commit åœ¨åˆ é™¤åˆ†æ”¯åå°±æ— æ³•è¢«å¼•ç”¨ï¼Œæ‰€ä»¥ä¼šå‘å‡ºè­¦å‘Šã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:5:3","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Merge åˆå¹¶åˆ†æ”¯ã€‚é»˜è®¤ä½¿ç”¨ fast-forwardï¼Œå³å¦‚æœæ²¡æœ‰å†²çªï¼Œç›´æ¥å°†è¦åˆå¹¶çš„åˆ†æ”¯æå‰åˆ°è¢«åˆå¹¶åˆ†æ”¯çš„ commit å¤„ï¼Œè€Œä¸ä¼šå¦å¤–ç”Ÿæˆä¸€ä¸ª merge commitã€‚ä½†è¿™æ ·ä¼šä½¿å¾—è¢«åˆå¹¶çš„åˆ†æ”¯åœ¨åˆå¹¶åï¼Œæ²¡æœ‰å†å²ç—•è¿¹ã€‚å¯ä»¥é€šè¿‡ --no-ff (no fast forward) æ¥å¼ºåˆ¶ç”Ÿæˆ merge commitã€‚æ¨èä½¿ç”¨ merge æ—¶åŠ ä¸Š --no-ff è¿™ä¸ªå‚æ•°ã€‚ git merge \u003cbranch\u003e é€šå¸¸æ˜¯ main/master è¿™ç±»ä¸»åˆ†æ”¯åˆå¹¶å…¶å®ƒåˆ†æ”¯ï¼š git checkout main/master git merge \u003cbranch\u003e ","date":"2023-12-27","objectID":"/posts/git-learn/:5:4","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Resolve Conflict Manually resolve: Check every codes between \u003c\u003c\u003c\u003c\u003c\u003c\u003c, \u003e\u003e\u003e\u003e\u003e\u003e\u003e Edit code to what it should be Use mergetool like vimdiff: It shows: local, base, remote, file to be edited Edit â€œfile ro be editedâ€ to what is should be Add and Commit # 1. åˆå¹¶åˆ†æ”¯ git merge \u003cbranch\u003e # 2. æ£€æŸ¥çŠ¶æ€ï¼ŒæŸ¥çœ‹ unmerged çš„æ–‡ä»¶ git status # 3. ç¼–è¾‘ unmerged æ–‡ä»¶ï¼Œç¼–è¾‘å†²çªåŒºåŸŸä»£ç å³å¯ vim \u003cfile\u003e # 4. æ·»åŠ è§£å†³å®Œå†²çªçš„æ–‡ä»¶ git add \u003cfile\u003e # 5. è¿›è¡Œ merge commit git commit å†²çªåŒºåŸŸå°±æ˜¯ \u003c\u003c\u003c\u003c\u003c\u003c\u003c å’Œ \u003e\u003e\u003e\u003e\u003e\u003e\u003e å†…çš„åŒºåŸŸï¼Œåœ¨ merge æ“ä½œåï¼ŒGit å·²ç»å¸®æˆ‘ä»¬æŠŠ unmerged æ–‡ä»¶ä¿®æ”¹ä¸ºå¾…è§£å†³å†²çªçš„çŠ¶æ€ï¼Œç›´æ¥ç¼–è¾‘æ–‡ä»¶å³å¯ã€‚åœ¨ç¼–è¾‘å®Œæˆåï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œ add å’Œ commitï¼Œæ­¤æ¬¡ commit çš„ä¿¡æ¯ Git å·²ç»å¸®æˆ‘ä»¬å†™å¥½äº†ï¼Œä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ã€‚ å¦‚æœä½¿ç”¨çš„æ˜¯ mergetoolï¼Œä»¥ vimdiff ä¸ºä¾‹ï¼Œåªéœ€å°†ç¬¬ 3 æ­¥çš„ vim \u003cfile\u003e æ”¹ä¸º git mergetool å³å¯ã€‚vimdiff ä¼šæä¾› 4 ä¸ªè§†çª—ï¼šåº•éƒ¨è§†çª—æ˜¯æˆ‘ä»¬çš„ç¼–è¾‘åŒºï¼Œé¡¶éƒ¨å·¦è¾¹æ˜¯å½“å‰åˆå¹¶åˆ†æ”¯çš„çŠ¶æ€ï¼Œé¡¶éƒ¨ä¸­é—´æ˜¯ base (åˆå¹¶åˆ†æ”¯å’Œè¢«åˆå¹¶çš„å…±åŒçˆ¶èŠ‚ç‚¹) çš„çŠ¶æ€ï¼Œé¡¶éƒ¨å³è¾¹æ˜¯ remote çš„çŠ¶æ€ï¼ŒæŒ‰éœ€è¦é€‰æ‹©ã€ç¼–è¾‘ã€‚ vimdiff åœ¨ç¼–è¾‘å®Œåä¼šä¿ç•™ *.orig çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯å¾…è§£å†³å†²çªçš„æ–‡ä»¶å‰¯æœ¬ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:5:5","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Merge Conflict Prevent very long development branch. Split source code clearly. ","date":"2023-12-27","objectID":"/posts/git-learn/:5:6","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Git","Linux Kernel Internals"],"content":"Rebase æ³¨æ„ âœ… è§‚çœ‹å½±ç‰‡ Git æ•™å­¦ç³»åˆ— - Branch and Mergeï¼ŒæŒæ¡ TODO çš„æ–¹æ³•ã€‚git rebase æ˜¯ Git çš„ç²¾åï¼Œå¯ä»¥è®©æˆ‘ä»¬å®ç°æ›´ç»†ç²’åº¦çš„æ“ä½œï¼Œå¯ä»¥è¯´å­¦ä¼šäº† rebase æ‰ç®—çœŸæ­£å…¥é—¨äº† Gitã€‚ è¿™ä¸ªè§†é¢‘è®²å¾—æ¯”è¾ƒä¹±ï¼Œæ‰€ä»¥æ¨èé…åˆè§†é¢‘ç»™å‡ºçš„å‚è€ƒæ–‡ç«  Git-rebase å°ç¬”è®° æ¥å­¦ä¹ ã€‚ ","date":"2023-12-27","objectID":"/posts/git-learn/:6:0","tags":["Git/GitHub"],"title":"Git å­¦ä¹ è®°å½•","uri":"/posts/git-learn/"},{"categories":["Linux Distribution"],"content":"ç½‘ç»œä»£ç† æ ¹æ®é¡¹ç›® clash-for-linux-backup æ¥é…ç½® Ubuntu çš„ç½‘ç»œä»£ç†ã€‚ $ git clone https://github.com/Elegybackup/clash-for-linux-backup.git clash-for-linux è¿‡ç¨‹å½“ä¸­å¯èƒ½éœ€è¦å®‰è£… curl å’Œ net-toolsï¼Œæ ¹æ®æç¤ºè¿›è¡Œå®‰è£…å³å¯ï¼š sudo apt install curl sudo apt install net-tools å®‰è£…å¹¶å¯åŠ¨å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ localhost:9090/ui æ¥è®¿é—® Dashboardã€‚ å¯åŠ¨ä»£ç†ï¼š $ cd clash-for-linux $ sudo bash start.sh $ source /etc/profile.d/clash.sh $ proxy_on å…³é—­ä»£ç†ï¼š $ cd clash-for-linux $ sudo bash shutdown.sh $ proxy_off ","date":"2023-12-27","objectID":"/posts/ubuntu22.04lts/:1:0","tags":["Linux","Ubuntu"],"title":"Ubuntu 22.04LTS ç›¸å…³é…ç½®","uri":"/posts/ubuntu22.04lts/"},{"categories":["Linux Distribution"],"content":"æœç‹—è¾“å…¥æ³• æ ¹æ® æœç‹—è¾“å…¥æ³• Linux å®‰è£…æŒ‡å¯¼ æ¥å®‰è£…æœç‹—è¾“å…¥æ³•ã€‚ æ— éœ€å¸è½½ç³»ç»Ÿ ibus è¾“å…¥æ³•æ¡†æ¶ã€‚ é€šè¿‡ Ctrl + space å”¤é†’æœç‹—è¾“å…¥æ³•ã€‚ ","date":"2023-12-27","objectID":"/posts/ubuntu22.04lts/:2:0","tags":["Linux","Ubuntu"],"title":"Ubuntu 22.04LTS ç›¸å…³é…ç½®","uri":"/posts/ubuntu22.04lts/"},{"categories":["Linux Distribution"],"content":"å¿«æ·é”® æ–°å»ºç»ˆç«¯ï¼š Ctrl + Alt + T é”å±ï¼š Super + Lï¼šé”å®šå±å¹•å¹¶ç†„å±ã€‚ æ˜¾ç¤ºæ¡Œé¢ï¼š Super + d æˆ–è€… Ctrl + Alt + d æœ€å°åŒ–æ‰€æœ‰è¿è¡Œçš„çª—å£å¹¶æ˜¾ç¤ºæ¡Œé¢ï¼Œå†æ¬¡é”®å…¥åˆ™é‡æ–°æ‰“å¼€ä¹‹å‰çš„çª—å£ã€‚ æ˜¾ç¤ºæ‰€æœ‰çš„åº”ç”¨ç¨‹åºï¼š Super + a å¯ä»¥é€šè¿‡ ESC æ¥é€€å‡ºè¯¥æ˜¾ç¤ºã€‚ æ˜¾ç¤ºå½“å‰è¿è¡Œçš„æ‰€æœ‰åº”ç”¨ç¨‹åºï¼š Super ç§»åŠ¨çª—å£ä½ç½®ï¼š Super + å·¦ç®­å¤´ï¼šå½“å‰çª—å£ç§»åŠ¨åˆ°å±å¹•å·¦åŠè¾¹åŒºåŸŸ Super + å³ç®­å¤´ï¼šå½“å‰çª—å£ç§»åŠ¨åˆ°å±å¹•å³åŠè¾¹åŒºåŸŸ Super + ä¸Šç®­å¤´ï¼šå½“å‰çª—å£æœ€å¤§åŒ– Super + ä¸‹ç®­å¤´ï¼šå½“å‰çª—å£æ¢å¤æ­£å¸¸ éšè—å½“å‰çª—å£åˆ°ä»»åŠ¡æ ï¼š Super + h åˆ‡æ¢å½“å‰çš„åº”ç”¨ç¨‹åºï¼š Super + Tabï¼šä»¥åº”ç”¨ç¨‹åºä¸ºç²’åº¦æ˜¾ç¤ºåˆ‡æ¢é€‰é¡¹ Alt + Tabï¼šä»¥çª—å£ä¸ºç²’åº¦æ˜¾ç¤ºåˆ‡æ¢é€‰é¡¹ åˆ‡æ¢è™šæ‹Ÿæ¡Œé¢/å·¥ä½œåŒºï¼š Ctrl + Alt + å·¦/å³æ–¹å‘é”® è‡ªå®šä¹‰é”®ç›˜å¿«æ·é”®ï¼š Settings -\u003e Keyboard -\u003e Keyboard Shortcus | View and Customize Shortcuts -\u003e Custom Shortcuts ","date":"2023-12-27","objectID":"/posts/ubuntu22.04lts/:3:0","tags":["Linux","Ubuntu"],"title":"Ubuntu 22.04LTS ç›¸å…³é…ç½®","uri":"/posts/ubuntu22.04lts/"},{"categories":["Linux Kernel Internals"],"content":" æ‘˜è¦ GNU/Linux å¼€å‘å·¥å…·ï¼Œå‡ ä¹ä»ç¡¬ä»¶åˆ°è½¯ä»¶ï¼ŒLinux å¹³å°èƒ½å¤Ÿè‡ªä¸‹è€Œä¸Šæä¾›å„ç±»è§¦åŠâ€œçµé­‚â€çš„å­¦ä¹ æ¡ˆä¾‹ï¼Œè®©æ‰€æœ‰è¯¾ç¨‹ä»çº¸ä¸Šè°ˆå…µè½¬å˜æˆæ²™åœºå®æˆ˜ï¼Œä¼šæå¤§åœ°æå‡å·¥ç¨‹å®è·µçš„æ•ˆç‡å’ŒæŠ€èƒ½ã€‚ åŸæ–‡åœ°å€ ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:0:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"å®‰è£… Windows / Ubuntu åŒç³»ç»Ÿ å› ä¸ºæœ‰äº›æ“ä½œå¿…é¡»åœ¨ç‰©ç†ç¡¬ä»¶ä¸Šæ‰èƒ½æ‰§è¡Œã€‚ ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:1:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"Markdown ä¸ LaTeX é€Ÿè§ˆ LaTeX è¯­æ³•ç¤ºä¾‹ä¸€èŠ‚ï¼Œä½œä¸ºå·¥å…·ä¹¦å†Œï¼Œåœ¨éœ€è¦ä½¿ç”¨æ—¶çŸ¥é“å¦‚ä½•æŸ¥è¯¢ã€‚ é€Ÿè§ˆ Markdown è¯­æ³•ç¤ºä¾‹ä¸€èŠ‚ï¼Œä½œä¸ºå·¥å…·ä¹¦å†Œï¼Œåœ¨éœ€è¦ä½¿ç”¨æ—¶çŸ¥é“å¦‚ä½•æŸ¥è¯¢ã€‚ æ³¨æ„ ç¼–å†™ Markdown æ–‡æœ¬ä»¥åŠ LaTeX è¯­æ³•è¡¨ç¤ºçš„æ•°å­¦å¼å¯ä»¥é€šè¿‡ï¼š Hugo + FixIt âœ… VS Code + Markdown Preview Enhanced ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:2:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"Git å’Œ Github é˜…è¯» SSH key äº§ç”Ÿæ–¹æ³•ä¸€èŠ‚ï¼Œé…ç½®å¥½ Git å’Œ Github çš„ SSH keyã€‚åŒæ—¶ä¹Ÿå¯ä½œä¸ºå·¥å…·ä¹¦å†Œï¼Œåœ¨éœ€è¦ä½¿ç”¨æ—¶çŸ¥é“å¦‚ä½•æŸ¥è¯¢ã€‚ æ¨èé€šè¿‡ LearnGitBranching æ¥ç†Ÿæ‚‰ Git å‘½ä»¤ï¼ï¼ï¼ ä»¥ä¸‹èµ„æºä½œä¸ºè‡ªå­¦èµ„æºï¼Œç”¨äºè¡¥å……è‡ªå·±ä¸ç†Ÿæ‚‰çš„æ“ä½œï¼Œæˆ–è€…ä½œä¸ºä»¥ä¸Šèµ„æ–™çš„è¡¥å……å·¥å…·æ‰‹å†Œã€‚ Git ä¸­æ–‡æ•™å­¦ - YouTube (å­¦ä¹ è®°å½•) 30 å¤©ç²¾é€š Git ç‰ˆæœ¬æ§åˆ¶ - GitHub è­¦å‘Š åŸæ–‡æ¡£ä¸­çš„å°†å…¬é’¥å¤åˆ¶åˆ° clipboard ä¸­ä½¿ç”¨äº† clip å‘½ä»¤ï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤åœ¨ Ubuntu ä¸­å¹¶æ²¡æœ‰å¯¹åº”çš„å‘½ä»¤ã€‚å¯ä»¥ä½¿ç”¨ xclip + alias è¾¾åˆ°è¿‘ä¼¼æ•ˆæœã€‚ $ sudo apt install xclip # using alias to implement clip, you can add this to bashrc $ alias='xclip -sel c' ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:3:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"ç¼–è¾‘å™¨: Visual Studio Code è®¤çœŸé˜…è¯»ï¼Œè·Ÿéšæ•™å­¦æ–‡æ¡£è¿›è¡Œå®‰è£…ã€è®¾ç½®ã€‚é‡ç‚¹é˜…è¯» è®¾å®šã€é™¤é”™ï¼ˆè°ƒè¯•ï¼‰ è¿™ä¸¤éƒ¨åˆ†ã€‚æ›´æ–° VS Code éƒ¨åˆ†ä½œä¸ºæ‰‹å†Œï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œå‚è€ƒã€‚ ä»¥ä¸‹èµ„æºä½œä¸ºè‡ªå­¦èµ„æºï¼Œç”¨äºè¡¥å……è‡ªå·±ä¸ç†Ÿæ‚‰çš„æ“ä½œï¼Œæˆ–è€…ä½œä¸ºä»¥ä¸Šèµ„æ–™çš„è¡¥å……å·¥å…·æ‰‹å†Œã€‚ å¼€å¼€å¿ƒå¿ƒå­¦ Vistual Studio Code å®Œæˆ SSH key çš„ç”Ÿæˆã€‚ å®Œæˆ VS Code çš„è®¾ç½®ã€‚ å®‰è£… Git History æ’ä»¶ã€‚ å®‰è£… Native Debug æ’ä»¶ï¼Œå¹¶è¿›è¡Œ Debug (test-stopwatch.c) æ“ä½œã€‚ å®‰è£… VSCode Great Icons æ–‡ä»¶å›¾æ ‡ä¸»é¢˜ï¼Œå¦å¤–æ¨èä¸¤æ¬¾é¢œè‰²ä¸»é¢˜ï¼šOne Dark Pro, Learn with Sumitã€‚ VS Code æ§åˆ¶å°ä½¿ç”¨è¯´æ˜ï¼š å¯ä»¥åœ¨é¢æ¿çš„è¾“å‡ºï¼Œç‚¹å‡» GIT é€‰é¡¹æ˜¾ç¤º VS Code èƒŒåæ‰§è¡Œçš„ git å‘½ä»¤ã€‚ å¯ä»¥ä½¿ç”¨ ctrl + shift + P å‘¼å‡ºå‘½ä»¤åŒºï¼Œç„¶åé€šè¿‡è¾“å…¥ Git branch å’Œ Git checkout ç­‰å¹¶é€‰æ‹©å¯¹åº”é€‰é¡¹ï¼Œæ¥è¾¾åˆ°åˆ›å»ºåˆ†æ”¯ã€åˆ‡æ¢åˆ†æ”¯ç­‰åŠŸèƒ½ã€‚ æŠ€å·§ åœ¨ VS Code è®¾ç½®ä¸­ï¼Œéœ€è¦åœ¨è®¾ç½®ä¸­æ‰“å¼€ Open Default Settings é€‰é¡¹æ‰èƒ½åœ¨å·¦ä¾§é¢æ¿è§‚å¯Ÿåˆ°é¢„è®¾å€¼ã€‚é”®ä½ç»‘å®šåŒç†ã€‚ è¦æƒ³è¿›è¡Œè°ƒè¯•ï¼Œéœ€è¦åœ¨ä½¿ç”¨ gcc ç”Ÿæˆç›®æ ‡æ–‡ä»¶æ—¶ï¼ŒåŠ å…¥ -g å‚æ•°æ¥ç”Ÿäº§è°ƒè¯•ä¿¡æ¯ã€‚ åŸæ–‡æ¡£ä¸­çš„ GDB æ•™å­¦é“¾æ¥-é™¤é”™ç¨‹å¼-gdb å·²å¤±æ•ˆï¼Œè¿™æ˜¯ç›®å‰çš„æœ‰æ•ˆé“¾æ¥ã€‚ä¹Ÿå¯é€šè¿‡è¯¥å½±ç‰‡ æ‹¯æ•‘èµ„å·¥ç³»å­¦ç”Ÿçš„åŸºæœ¬ç´ å…»-ä½¿ç”¨ GDB é™¤é”™åŸºæœ¬æ•™å­¦ æ¥è¡¥å……å­¦ä¹  GDB çš„æ“ä½œã€‚ ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:4:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"ç»ˆç«¯å’Œ Vim è®¤çœŸé˜…è¯»ï¼Œè·Ÿéšæ•™å­¦å½±ç‰‡ å¿«å¿«ä¹ä¹å­¦ Vim å’Œæ•™å­¦æ–‡æ¡£é…ç½®å¥½ ç»ˆç«¯æç¤ºç¬¦ã€Vimã€‚ å®Œæˆå‘½ä»¤è¡Œæç¤ºç¬¦é…ç½® å®Œæˆ Vim çš„è®¾å®š å®‰è£…å¹¶ä½¿ç”¨ Minial Vim Plugin Manager æ¥ç®¡ç† Vim æ’ä»¶ (neocomplcache, nerdtree) å®‰è£…å¹¶ä½¿ç”¨ byobu æ¥ç®¡ç†å¤šä¸ªç»ˆç«¯è§†å›¾ã€‚ æŠ€å·§ åœ¨ .vimrc ä¸­å¢åŠ æ’ä»¶åï¼Œæ‰“å¼€ vimï¼Œæ‰§è¡Œ :PlugInstall æ¥å®‰è£…æ’ä»¶ï¼Œå®Œæˆååœ¨ vim æ‰§è¡Œ :source ~/.vimrcã€‚ï¼ˆå¯ä»¥é€šè¿‡ :PlugStatus æ¥æŸ¥çœ‹æ’ä»¶å®‰è£…çŠ¶æ€ï¼‰ ä½¿ç”¨ F4 é”®æ¥[æ˜¾ç¤º/ä¸æ˜¾ç¤º][è¡Œæ•°/ç›¸å¯¹è¡Œæ•°]ã€‚ ä½¿ç”¨ F5 é”®æ¥å‘¼å…¥/å‘¼å‡ºæ–‡ä»¶æ ‘(nerdtree)ï¼Œåœ¨æ–‡ä»¶æ ‘æ»é€šè¿‡ ENTER é”®æ¥è®¿é—®ç›®å½•/æ–‡ä»¶ã€‚ ä½¿ç”¨ Ctrl-w-h/Ctrl-w-l åˆ‡æ¢åˆ° æ–‡ä»¶æ ‘/ç¼–è¾‘åŒºã€‚ è‡ªåŠ¨è¡¥å…¨æ—¶ä½¿ç”¨ ENTER é”®æ¥é€‰ä¸­ï¼Œä½¿ç”¨æ–¹å‘é”®æˆ– Ctrl-N/Ctrl-U/Ctrl-P æ¥ä¸Šä¸‹é€‰æ‹©ã€‚ åœ¨ Vim ä¸­å¯ä»¥é€šè¿‡ :set pasteï¼Œå¹¶åœ¨ insert æ¨¡å¼ä¸‹ï¼Œå°†ç²˜è´´æ¿çš„å†…å®¹é€šè¿‡ Ctrl-Shift-V è¿›è¡Œç²˜è´´ã€‚ byobu ä½¿ç”¨è¯´æ˜ï¼š åœ¨ç»ˆç«¯è¾“å…¥ byobu F2 æ–°å¢ Terminial åˆ†é¡µã€‚F3, F4 åœ¨ Terminial åˆ†é¡µä¸­åˆ‡æ¢ã€‚Ctrl +F6 åˆ é™¤å½“å‰ Terminial åˆ†é¡µã€‚ Shift + F2 æ°´å¹³åˆ‡å‰² Terminialã€‚Ctrl +F2 å‚ç›´åˆ‡å‰² Terminialã€‚Shift + æ–¹å‘é”® åˆ‡æ¢ã€‚ åœ¨ byobu ä¸­æš‚æ—¶æ— æ³•ä½¿ç”¨ä¹‹å‰è®¾ç½®çš„ F4 æˆ– F5 å¿«æ·é”®ï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤ :set norelative æ¥å…³é—­ç›¸å¯¹è¡Œæ•°ã€‚ æ¨èè§‚çœ‹å½±ç‰‡ How to Do 90% of What Plugins Do (With Just Vim) æ¥æ‰©å±• Vim æ’ä»¶çš„ä½¿ç”¨å§¿åŠ¿ã€‚ ä»¥ä¸‹èµ„æºä¸º Cheat Sheetï¼Œéœ€è¦ä½¿ç”¨æ—¶å›æ¥å‚è€ƒå³å¯ã€‚ Vim Cheat Sheet Bash terminal Cheat Sheet ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:5:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"Makefile é€Ÿè§ˆæ•™å­¦æ–‡æ¡£ï¼Œä½œä¸ºå·¥å…·ä¹¦å†Œï¼Œåœ¨éœ€è¦ä½¿ç”¨æ—¶çŸ¥é“å¦‚ä½•æŸ¥è¯¢ã€‚ gcc çš„ -MMD å’Œ -MF å‚æ•°å¯¹æˆ‘ä»¬ç¼–å†™ Makefile æ˜¯ä¸€ä¸ªå·¨å¤§åˆ©å™¨ã€‚ç†è§£ Makefile çš„å„ç§å˜é‡å®šä¹‰çš„åŸç†ã€‚ å¯¹ä¹‹å‰çš„ test-stopwatch.c ç¼–å†™äº†ä¸€ä¸ª Makefile æ¥è‡ªåŠ¨åŒ–ç®¡ç†ã€‚ ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:6:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"Linux æ€§èƒ½åˆ†æå·¥å…·: Perf è®¤çœŸé˜…è¯»ï¼Œå¤ç°æ•™å­¦æ–‡æ¡£ä¸­çš„æ‰€æœ‰ä¾‹å­ï¼Œåˆæ­¥ä½“éªŒ perf åœ¨æ€§èƒ½åˆ†æä¸Šçš„å¼ºå¤§ã€‚ å®‰è£… perf å¹¶å°† kernel.perf_event_paranoid è®¾ç½®ä¸º 1ã€‚ åŠ¨æ‰‹ä½¿ç”¨ perf_top_example.cï¼Œä½“éªŒ perf çš„ä½œç”¨ã€‚ æ­é…å½±ç‰‡: Branch Prediction å¯¹ç…§é˜…è¯»: Fast and slow if-statements: branch prediction in modern processors ç¼–è¯‘å™¨æä¾›çš„è¾…åŠ©æœºåˆ¶: Branch Patterns, Using GCC åŠ¨æ‰‹ä½¿ç”¨ perf_top_while.cï¼Œä½“éªŒ perf top çš„ä½œç”¨ã€‚ åŠ¨æ‰‹ä½¿ç”¨ perf_stat_cache_miss.cï¼Œä½“éªŒ perf stat çš„ä½œç”¨ã€‚ï¼ˆåŸæ–‡çš„ç»“æœæœ‰äº›ä¸ç›´è§‚ï¼ŒåŠ¡å¿…äº²è‡ªåŠ¨æ‰‹éªŒè¯ï¼‰ åŠ¨æ‰‹ä½¿ç”¨ perf_record_example.cï¼Œä½“éªŒ perf record çš„ä½œç”¨ã€‚ï¼ˆåŸæ–‡çš„æ“ä½œä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ Successï¼‰ Source æˆåŠŸ $ perf record -e branch-misses:u,branch-instructions:u ./perf_record_example [ perf record: Woken up 1 times to write data ] [ perf record: Captured and wrote 0.009 MB perf.data (94 samples) ] è¾“å‡ºç¬¬ä¸€è¡Œè¡¨ç¤º perf å·¥å…·åœ¨æ”¶é›†æ€§èƒ½æ•°æ®æ—¶è¢«å”¤é†’äº† 1 æ¬¡ï¼Œä»¥å°†æ•°æ®å†™å…¥è¾“å‡ºæ–‡ä»¶ã€‚ è¾“å‡ºç¬¬äºŒè¡Œè¡¨ç¤º perf å·¥å…·å·²ç»å–æ ·å¹¶å†™å…¥äº†ä¸€ä¸ªåä¸º perf.data çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸º 0.009 MBï¼Œå…¶ä¸­åŒ…å«äº† 94 ä¸ªé‡‡æ ·ã€‚ï¼ˆå¯ä»¥é€šè¿‡ ls å‘½ä»¤æ¥æ£€æŸ¥ perf.data æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼‰ æ¥ä¸‹æ¥é€šè¿‡ perf report å¯¹ä¹‹å‰è¾“å‡ºçš„äºŒè¿›åˆ¶æ–‡ä»¶ perf.data è¿›è¡Œåˆ†æã€‚å¯ä»¥é€šè¿‡æ–¹å‘é”®é€‰æ‹©ï¼Œå¹¶é€šè¿‡ ENTER è¿›å…¥ä¸‹ä¸€å±‚æŸ¥çœ‹åˆ†æç»“æœã€‚ $ perf report Available samples 5 branch-misses:u 89 branch-instructions:u æŠ€å·§ perf éœ€è¦åœ¨ root ä¸‹è¿›è¡Œæ€§èƒ½åˆ†æã€‚ perf top æ˜¯å¯¹äºå“ªä¸ªç¨‹åºæ˜¯æ€§èƒ½ç“¶é¢ˆæ²¡æœ‰å¤´ç»ªæ—¶ä½¿ç”¨ï¼Œå¯ä»¥æŸ¥çœ‹å“ªä¸ªç¨‹åºï¼ˆä»¥åŠç¨‹åºçš„å“ªä¸ªéƒ¨åˆ†ï¼‰æ˜¯çƒ­åº¦ç‚¹ã€‚ åœ¨ perf top æ—¶å¯ä»¥é€šè¿‡ h é”®å‘¼å‡ºå¸®åŠ©åˆ—è¡¨ã€‚ å¯ä»¥é€šè¿‡æ–¹å‘é”®é€‰æ‹©éœ€è¦è¿›ä¸€æ­¥åˆ†æçš„éƒ¨åˆ†ï¼Œå¹¶é€šè¿‡ a é”®æ¥æŸ¥çœ‹æŒ‡ä»¤çº§åˆ«ç²’åº¦çš„çƒ­ç‚¹ã€‚ perf stat æ˜¯å¯¹æŸä¸€ä¸ªè¦ä¼˜åŒ–çš„ç¨‹åºè¿›è¡Œæ€§èƒ½åˆ†æï¼Œå¯¹è¯¥ç¨‹åºæ¶‰åŠçš„ä¸€ç³»åˆ— events è¿›è¡Œå–æ ·æ£€æŸ¥ã€‚ perf record çš„ç²¾åº¦æ¯” perf stat æ›´é«˜ï¼Œå¯ä»¥å¯¹å–æ ·çš„ events è¿›è¡Œå‡½æ•°ç²’åº¦çš„åˆ†æã€‚ ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:7:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Linux Kernel Internals"],"content":"Linux ç»˜å›¾å·¥å…·: gnuplot é˜…è¯»æ•™ç¨‹ï¼Œæ­é…æ•™å­¦å½±ç‰‡ è½»è½»æ¾æ¾å­¦ gnuplotï¼Œä½¿ç”¨ gnuplot å®Œæˆæ‰€ç»™ä¾‹å­ç›¸åº”å›¾åƒçš„ç»˜åˆ¶ã€‚ ä½¿ç”¨ runtime.gp å®Œæˆ runtime.png çš„ç»˜åˆ¶ç”Ÿæˆã€‚ ä½¿ç”¨ statistic.gp å®Œæˆé™é›¨é‡æŠ˜çº¿å›¾ statistic.png çš„ç»˜åˆ¶ç”Ÿæˆã€‚ æ³¨æ„ åŸæ–‡æ‰€ç»™çš„ statistic.gp æ˜¯ä½¿ç”¨ Times_New_Roman æ¥æ˜¾ç¤ºä¸­æ–‡çš„ï¼Œä½†ç¬”è€…çš„ Ubuntu ä¸­å¹¶æ²¡æœ‰è¿™ä¸ªå­—ä½“ï¼Œæ‰€ä»¥ä¼šæ˜¾ç¤ºä¹±ç ã€‚å¯ä»¥é€šè¿‡ fc-list :lang=zh å‘½ä»¤æ¥æŸ¥è¯¢å½“å‰ç³»ç»Ÿä¸­çš„å·²å®‰è£…çš„ä¸­æ–‡å­—ä½“ã€‚ Source å®‰è£… gnuplot: $ sudo apt-get install gnuplot gnuplot script çš„ä½¿ç”¨æµç¨‹ï¼š # åˆ›å»ºå¹¶ç¼–å†™ä¸€ä¸ªåç¼€åä¸º .gp çš„æ–‡ä»¶ $ vim script.gp # æ ¹æ® script å†…çš„æŒ‡ä»¤è¿›è¡Œç»˜å›¾ $ gnuplot script.gp # æ ¹æ® script æŒ‡å®šçš„å›¾ç‰‡ä¿å­˜è·¯å¾„æ‰“å¼€å›¾ç‰‡ $ eog [name of picture] ä¸‹é¢ä»¥ä¸€ä¸ª script è¿›è¡Œå¸¸ç”¨æŒ‡ä»¤çš„è¯´æ˜ï¼š reset set ylabel 'time(sec)' set style fill solid set title 'performance comparison' set term png enhanced font 'Verdana,10' set output 'runtime.png' plot [:][:0.100]'output.txt' using 2:xtic(1) with histogram title 'original', \\ '' using ($0-0.06):($2+0.001):2 with labels title ' ', \\ '' using 3:xtic(1) with histogram title 'optimized' , \\ '' using 4:xtic(1) with histogram title 'hash' , \\ '' using ($0+0.3):($3+0.0015):3 with labels title ' ', \\ '' using ($0+0.4):($4+0.0015):4 with labels title ' ' reset æŒ‡ä»¤çš„ä½œç”¨ä¸ºï¼Œå°†ä¹‹å‰ set æŒ‡ä»¤è®¾ç½®è¿‡çš„å†…å®¹å…¨éƒ¨é‡ç½®ã€‚ set style fill solid å°†ç»˜åˆ¶å‡ºçš„æŸ±å½¢æˆ–åŒºåŸŸä½¿ç”¨å®å¿ƒæ–¹å¼å¡«å……ã€‚ set term png enhanced font 'Verdana,10' term png ç”Ÿæˆçš„å›¾åƒä»¥ png æ ¼å¼è¿›è¡Œä¿å­˜ã€‚(term æ˜¯ terminial çš„ç¼©å†™) enhanced å¯ç”¨å¢å¼ºæ–‡æœ¬æ¨¡å¼ï¼Œå…è®¸åœ¨æ ‡ç­¾å’Œæ³¨é‡Šä¸­ä½¿ç”¨ç‰¹æ®Šçš„æ–‡æœ¬æ ¼å¼ï¼Œå¦‚ä¸Šä¸‹æ ‡ã€æ–œä½“ã€ä¸‹åˆ’çº¿ç­‰ã€‚ font 'Verdana,10' æŒ‡å®šæ‰€ä½¿ç”¨çš„å­—ä½“ä¸º Verdanaï¼Œå­—å·ä¸º10ã€‚å¯è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®ã€‚ å…¶å®ƒæŒ‡ä»¤æŸ¥è¯¢åŸæ–‡æˆ–æ‰‹å†Œå³å¯ã€‚ $0 åœ¨ gnuplot ä¸­è¡¨ç¤ºä¼ªåˆ—ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºè¡Œå·ï¼Œä»¥ä¸‹ä¸ºç›¸åº”å›¾ç¤ºï¼š åŸå§‹æ•°æ®é›†ï¼š append() 0.048240 0.040298 0.057908 findName() 0.006495 0.002938 0.000001 ï¼ˆäººä¸ºï¼‰å¢åŠ äº† ä¼ªåˆ— è¡¨ç¤ºçš„æ•°æ®é›†ï¼ˆæœ€å·¦è¾¹ 0, 1 å³ä¸ºä¼ªåˆ—ï¼‰ï¼š 0 append() 0.048240 0.040298 0.057908 1 findName() 0.006495 0.002938 0.000001 æŠ€å·§ gnuplot åœ¨ç»˜åˆ¶ç”Ÿæˆå›¾åƒæ—¶æ˜¯å®‰è£…æŒ‡ä»¤çš„é¡ºåºè¿›è¡Œçš„ï¼Œå¹¶ä¸”å’Œä¸€èˆ¬çš„ç”»å›¾è½¯ä»¶ç±»ä¼¼ï¼Œåœ¨æœ€ä¸Šå±‚è¿›è¡Œç»˜åˆ¶ã€‚æ‰€ä»¥åœ¨ç¼–å†™ script çš„æŒ‡ä»¤æ—¶éœ€è¦æ³¨æ„é¡ºåºï¼Œå¦åˆ™ç”Ÿæˆå›¾åƒçš„éƒ¨åˆ†å¯èƒ½å¹¶ä¸åƒé¢„æœŸä¸€æ ·ä½äºæœ€ä¸Šå±‚ã€‚ï¼ˆæ€è€ƒä¸Šé¢ script çš„ 3, 4 åˆ—çš„ label çš„ç»˜åˆ¶é¡ºåºï¼‰ gnuplot script ä¸­çš„å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨ '' æˆ–è€… \"\" æ¥åŒ…è£¹ï¼ŒåŒæ ·ç±»ä¼¼äº Pythonã€‚ ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ gnuplot ä¼šè¿›å…¥äº¤äº’å¼çš„å‘½ä»¤ç•Œé¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ gnulpot æŒ‡ä»¤æ¥ç»˜å›¾ï¼ˆç±»ä¼¼ä¸ Pythonï¼‰ã€‚åœ¨è¿™ç§äº¤äº’å¼ç•Œé¢ç¯å¢ƒä¸­ï¼Œå¦‚æœéœ€è¦åœ¨è¾“å…¥å®ŒæŒ‡ä»¤åç«‹å³æ˜¾ç¤ºå›¾åƒåˆ°æ–°çª—å£ï¼Œè€Œä¸æ˜¯ä¿å­˜å›¾åƒå†æ‰“å¼€ï¼Œåªéœ€è¾“å…¥è¿›è¡ŒæŒ‡ä»¤ï¼š set term wxt ehanced persist raise term wxt å°†å›¾å½¢ç»ˆç«¯ç±»å‹è®¾ç½®ä¸ºWXTï¼Œè¿™ä¼šåœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºç»˜å›¾ã€‚ ersist è¯¥é€‰é¡¹ä½¿ç»˜å›¾çª—å£ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå³ä½¿è„šæœ¬æ‰§è¡Œå®Œæ¯•ä¹Ÿä¸ä¼šè‡ªåŠ¨å…³é—­ã€‚ raise è¯¥é€‰é¡¹å°†ç»˜å›¾çª—å£ç½®äºå…¶ä»–çª—å£çš„å‰é¢ï¼Œä»¥ç¡®ä¿å®ƒåœ¨å±å¹•ä¸Šçš„å¯è§æ€§ã€‚ ä¸€äº›é¢å¤–çš„æ•™ç¨‹ï¼š Youtube - gnuplot Tutorlal è¿™ä¸ªæ•™ç¨‹æœ‰äº”éƒ¨å½±ç‰‡ï¼Œåˆ°å‘å¸ƒè€…çš„ä¸»é¡µæœå¯»å³å¯ã€‚ ","date":"2023-12-25","objectID":"/posts/gnu-linux-dev/:8:0","tags":["Sysprog"],"title":"GNU/Linux å¼€å‘å·¥å…·","uri":"/posts/gnu-linux-dev/"},{"categories":["Mathematics"],"content":" ä¸­å¤§æ•¸å­¸ç³»é–‹æ”¾å¼èª²ç¨‹ å°å¤§é½éœ‡å®‡ - æ•°å­¦æ½œæ°´è‰‡ã€å¾®ç§¯åˆ†ã€åˆ†æ å°å¤§è°¢é“­ä¼¦ - çº¿æ€§ä»£æ•° ","date":"2023-12-23","objectID":"/posts/math/:0:0","tags":["Mathematics"],"title":"æ•°å­¦å¼€æ”¾å¼è¯¾ç¨‹å­¦ä¹ æŒ‡å¼•","uri":"/posts/math/"},{"categories":["Mathematics"],"content":"æ¦‚ç‡ç»Ÿè®¡ é˜³æ˜äº¤é€šå¤§å­¦ é™ˆä¸´å®‰è€å¸ˆï¼Œå¼€è®¾äº†ä¸¤å­¦æœŸçš„ç»Ÿè®¡è¯¾ç¨‹ï¼Œåˆ†åˆ«æ˜¯ä¸Šå­¦æœŸçš„ ç»Ÿè®¡å­¦ å’Œä¸‹å­¦æœŸçš„ é«˜ç­‰ç»Ÿè®¡å­¦ã€‚ è¯¾ç¨‹åç§° è‹±æ–‡åç§° è¯¾ç¨‹åœ°å€ è¯¾ç¨‹è§†é¢‘ ç»Ÿè®¡å­¦ Statistics è¯¾ç¨‹èµ„è®¯ YouTube é«˜ç­‰ç»Ÿè®¡å­¦ Advanced Statistics è¯¾ç¨‹èµ„è®¯ YouTube ä¿¡æ¯ è¿™ä¸¤ä¸ªå­¦æœŸè¯¾ç¨‹çš„ä½œä¸šã€ä¹ é¢˜ä»¥åŠè§£ç­”éƒ½å¯ä»¥åœ¨ è¿™é‡Œ æ‰¾åˆ°ã€‚ ","date":"2023-12-23","objectID":"/posts/math/:1:0","tags":["Mathematics"],"title":"æ•°å­¦å¼€æ”¾å¼è¯¾ç¨‹å­¦ä¹ æŒ‡å¼•","uri":"/posts/math/"},{"categories":["draft"],"content":"åšå®¢ï¼ˆè‹±è¯­ï¼šBlogï¼‰æ˜¯ä¸€ç§åœ¨çº¿æ—¥è®°å‹å¼çš„ä¸ªäººç½‘ç«™ï¼Œå€Ÿç”±å¼ å¸–å­ç« ã€å›¾ç‰‡æˆ–è§†é¢‘æ¥è®°å½•ç”Ÿæ´»ã€æŠ’å‘æƒ…æ„Ÿæˆ–åˆ†äº«ä¿¡æ¯ã€‚åšå®¢ä¸Šçš„æ–‡ç« é€šå¸¸æ ¹æ®å¼ è´´æ—¶é—´ï¼Œä»¥å€’åºæ–¹å¼ç”±æ–°åˆ°æ—§æ’åˆ—ã€‚ ","date":"2023-12-23","objectID":"/posts/hello_world/:0:0","tags":["draft"],"title":"Hello, World","uri":"/posts/hello_world/"},{"categories":["draft"],"content":"æ•°å­¦å…¬å¼ è¡Œå†…å…¬å¼ï¼š$N(b,d)=(b-1)M$ å…¬å¼å—ï¼š $$ \\int_{a}^{b}x(t)dt = \\dfrac{b - a}{N} \\\\ =\\sum_{k=1}^{N}x(t_k)\\cdot\\dfrac{b-a}{N} $$ $$ \\begin{aligned} \\int_{a}^{b}x(t)dt \u0026= \\dfrac{b - a}{N} \\\\ \u0026=\\sum_{k=1}^{N}x(t_k)\\cdot\\dfrac{b-a}{N} \\\\ \\end{aligned} $$ $$ \\mathrm{Integrals\\ are\\ numerically\\ approximated\\ as\\ finite\\ series}:\\\\ \\begin{split} \\int_{a}^{b}x(t)dt \u0026= \\dfrac{b - a}{N} \\\\ \u0026=\\sum_{k=1}^{N}x(t_k)\\cdot\\dfrac{b-a}{N} \\end{split} \\\\ where\\ t_k = a + (b-a)\\cdot k/N $$ $$ \\begin{align*} p(x) = 3x^6 + 14x^5y \u0026+ 590x^4y^2 + 19x^3y^3 \\\\ \u0026- 12x^2y^4 - 12xy^5 + 2y^6 - a^3b^3 - a^2b - ab + c^5d^3 + c^4d^3 - cd \\end{align*} $$ $$ \\begin{split} \u0026(X \\in B) = X^{-1}(B) = {s \\in S: X(s) \\in B} \\subset S \\\\ \u0026\\Rightarrow P(x \\in B) = P({s \\in S: X(s) \\in B}) \\end{split} $$ ","date":"2023-12-23","objectID":"/posts/hello_world/:1:0","tags":["draft"],"title":"Hello, World","uri":"/posts/hello_world/"},{"categories":["draft"],"content":"ä»£ç å— let i: i32 = 13; let v = vec![1, 2, 3, 4, 5, 65]; for x in v.iter() { println!(\"{}\", x); } typedef struct Block_t { int head; int data; } Block_t; ","date":"2023-12-23","objectID":"/posts/hello_world/:2:0","tags":["draft"],"title":"Hello, World","uri":"/posts/hello_world/"},{"categories":["draft"],"content":"Admonition æ³¨æ„ ä¸€ä¸ª æ³¨æ„ æ¨ªå¹… æ‘˜è¦ ä¸€ä¸ª æ‘˜è¦ æ¨ªå¹… ä¿¡æ¯ ä¸€ä¸ª ä¿¡æ¯ æ¨ªå¹… æŠ€å·§ ä¸€ä¸ª æŠ€å·§ æ¨ªå¹… æˆåŠŸ ä¸€ä¸ª æˆåŠŸ æ¨ªå¹… é—®é¢˜ ä¸€ä¸ª é—®é¢˜ æ¨ªå¹… è­¦å‘Š ä¸€ä¸ª è­¦å‘Š æ¨ªå¹… å¤±è´¥ ä¸€ä¸ª å¤±è´¥ æ¨ªå¹… å±é™© ä¸€ä¸ª å±é™© æ¨ªå¹… Bug ä¸€ä¸ª Bug æ¨ªå¹… ç¤ºä¾‹ ä¸€ä¸ª ç¤ºä¾‹ æ¨ªå¹… å¼•ç”¨ ä¸€ä¸ª å¼•ç”¨ æ¨ªå¹… ","date":"2023-12-23","objectID":"/posts/hello_world/:3:0","tags":["draft"],"title":"Hello, World","uri":"/posts/hello_world/"},{"categories":["draft"],"content":"References FixIt å¿«é€Ÿä¸Šæ‰‹ ä½¿ç”¨ Hugo + Github æ­å»ºä¸ªäººåšå®¢ Emoji æ”¯æŒ æ‰©å±• Shortcodes æ¦‚è¿° URL management ","date":"2023-12-23","objectID":"/posts/hello_world/:4:0","tags":["draft"],"title":"Hello, World","uri":"/posts/hello_world/"}]